/*

 Sizzle CSS Selector Engine v1.10.16
 http://sizzlejs.com/

 Copyright 2013 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-01-13

 jQuery JavaScript Library v2.1.0
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-01-23T21:10Z

  Copyright 2011 Twitter, Inc.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Trello modification note: we have modified this version of the Hogan library
  to treat the empty string as False for the purposes of section rendering.
  See https://github.com/twitter/hogan.js/issues/search?q=48 for the issue and
  patch.


 This application uses other third-party javascript components
 distributed under appropriate licenses. For more information,
 see the following:
      backbone.js   http://backbonejs.org/
      json2.js      https://github.com/douglascrockford/JSON-js
      markdown.js   https://github.com/evilstreak/markdown-js
      socket.io.js  http://socket.io/
      underscore.js http://underscorejs.org/
*/
(function(){window.clientVersion={head:"borderlands",version:"76",patch:0};window.require=null;window.attachmentsDomain="https://trello-attachments.s3.amazonaws.com";window.avatarDomain="https://trello-avatars.s3.amazonaws.com";window.logoDomain="https://trello-logos.s3.amazonaws.com";window.siteDomain=location.origin||/^[^/]+?[/]{2}[^/]+/.exec(location.href)[0];var B={login_popover:function(h,b,a){this.b(a=a||"");this.b('<form action="/authenticate" method="post" novalidate> ');this.s(this.f("badLogin",
h,b,1),h,b,0,68,127,"{{ }}")&&(this.rs(h,b,function(a,b,h){h.b(' <p class="error">The email or password was incorrect.</p> ')}),h.pop());this.b(" ");this.s(this.f("unconfirmed",h,b,1),h,b,0,157,264,"{{ }}")&&(this.rs(h,b,function(a,b,h){h.b(' <p class="error">You can\u2019t sign in until you <a href="/resendValidate">verify your email address</a>.</p> ')}),h.pop());this.b(' <label for="email-login"> Email </label> <input type="email" name="user" id="email-login" value="');this.b(this.v(this.f("email",
h,b,0)));this.b('" class="js-autofocus" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> <label for="password-login"> Password </label> <input type="password" name="password" id="password-login"> <input type="submit" class="primary wide js-password-login" value="Log In"> <p class="quiet" style="margin-top: 16px;"> <a href="/forgot"><strong>Forgot password?</strong></a> </p> <p class="quiet"> New? <a href="/signup');this.s(this.f("returnUrl",h,b,1),h,b,0,829,853,"{{ }}")&&
(this.rs(h,b,function(a,b,h){h.b("?returnUrl=");h.b(h.v(h.f("returnUrl",a,b,0)))}),h.pop());this.b('"><strong>Create an Account.</strong></a> </p> <input type="hidden" name="returnUrl" value="');this.b(this.v(this.f("returnUrl",h,b,0)));this.b('"> </form> <form action="/authenticate_openid" method="post" style="margin-top: 16px;"> <label> Or log in with: </label> <input type="hidden" name="openid_identifier" value="https://www.google.com/accounts/o8/id"> <input type="hidden" name="returnUrl" value="');
this.b(this.v(this.f("returnUrl",h,b,0)));this.b('"> <input type="hidden" name="mode" value=""> <input type="hidden" name="login" value=""> <input type="hidden" name="immediate" value=""> <input type="hidden" name="confirmNew" value="true"> <a class="button with-icon primary google js-google-login" href=""> <span class="icon-sm icon-google light"/> Google Account </a> ');this.s(this.f("openidAccount",h,b,1),h,b,0,1583,1718,"{{ }}")&&(this.rs(h,b,function(a,b,h){h.b(" <p>It looks like you haven\u2019t set a password yet. You can do this from the Account page after logging in with your Google Account.</p> ")}),
h.pop());this.b(" </form> ");return this.fl()}};(function(h,b){"object"===typeof module&&"object"===typeof module.exports?module.exports=h.document?b(h,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(h)})("undefined"!==typeof window?window:this,function(h,b){function a(c){var d=c.length,g=e.type(c);return"function"===g||e.isWindow(c)?!1:1===c.nodeType&&d?!0:"array"===g||0===d||"number"===typeof d&&0<d&&d-1 in c}function f(c,d,g){if(e.isFunction(d))return e.grep(c,
function(c,e){return!!d.call(c,e,c)!==g});if(d.nodeType)return e.grep(c,function(c){return c===d!==g});if("string"===typeof d){if(Ja.test(d))return e.filter(d,c,g);d=e.filter(d,c)}return e.grep(c,function(c){return 0<=V.call(d,c)!==g})}function m(c,d){for(;(c=c[d])&&1!==c.nodeType;);return c}function t(c){var d=Fa[c]={};e.each(c.match(ha)||[],function(c,e){d[e]=!0});return d}function q(){K.removeEventListener("DOMContentLoaded",q,!1);h.removeEventListener("load",q,!1);e.ready()}function s(){Object.defineProperty(this.cache=
{},0,{get:function(){return{}}});this.expando=e.expando+Math.random()}function x(c,d,g){if(void 0===g&&1===c.nodeType)if(g="data-"+d.replace($a,"-$1").toLowerCase(),g=c.getAttribute(g),"string"===typeof g){try{g="true"===g?!0:"false"===g?!1:"null"===g?null:+g+""===g?+g:Za.test(g)?e.parseJSON(g):g}catch(A){}P.set(c,d,g)}else g=void 0;return g}function S(){return!0}function y(){return!1}function r(){try{return K.activeElement}catch(c){}}function u(c,d){return e.nodeName(c,"table")&&e.nodeName(11!==
d.nodeType?d:d.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):c}function z(c){c.type=(null!==c.getAttribute("type"))+"/"+c.type;return c}function L(c){var d=lb.exec(c.type);d?c.type=d[1]:c.removeAttribute("type");return c}function ea(c,d){for(var g=0,e=c.length;g<e;g++)D.set(c[g],"globalEval",!d||D.get(d[g],"globalEval"))}function B(c,d){var g,A,a,b;if(1===d.nodeType){if(D.hasData(c)&&(b=D.access(c),g=D.set(d,b),b=b.events))for(a in delete g.handle,
g.events={},b){g=0;for(A=b[a].length;g<A;g++)e.event.add(d,a,b[a][g])}P.hasData(c)&&(a=P.access(c),a=e.extend({},a),P.set(d,a))}}function I(c,d){var g=c.getElementsByTagName?c.getElementsByTagName(d||"*"):c.querySelectorAll?c.querySelectorAll(d||"*"):[];return void 0===d||d&&e.nodeName(c,d)?e.merge([c],g):g}function E(c,d){var g=e(d.createElement(c)).appendTo(d.body),A=h.getDefaultComputedStyle?h.getDefaultComputedStyle(g[0]).display:e.css(g[0],"display");g.detach();return A}function F(c){var d=K,
g=mb[c];if(!g){g=E(c,d);if("none"===g||!g)Oa=(Oa||e("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),d=Oa[0].contentDocument,d.write(),d.close(),g=E(c,d),Oa.detach();mb[c]=g}return g}function J(c,d,g){var A,a,b=c.style;(g=g||Pa(c))&&(a=g.getPropertyValue(d)||g[d]);g&&(""===a&&!e.contains(c.ownerDocument,c)&&(a=e.style(c,d)),db.test(a)&&nb.test(d)&&(c=b.width,d=b.minWidth,A=b.maxWidth,b.minWidth=b.maxWidth=b.width=a,a=g.width,b.width=c,b.minWidth=d,b.maxWidth=A));return void 0!==
a?a+"":a}function n(c,d){return{get:function(){if(c())delete this.get;else return(this.get=d).apply(this,arguments)}}}function G(c,d){if(d in c)return d;for(var g=d[0].toUpperCase()+d.slice(1),e=d,a=ob.length;a--;)if(d=ob[a]+g,d in c)return d;return e}function la(c,d,g){return(c=Eb.exec(d))?Math.max(0,c[1]-(g||0))+(c[2]||"px"):d}function T(c,d,g,A,a){d=g===(A?"border":"content")?4:"width"===d?1:0;for(var b=0;4>d;d+=2)"margin"===g&&(b+=e.css(c,g+na[d],!0,a)),A?("content"===g&&(b-=e.css(c,"padding"+
na[d],!0,a)),"margin"!==g&&(b-=e.css(c,"border"+na[d]+"Width",!0,a))):(b+=e.css(c,"padding"+na[d],!0,a),"padding"!==g&&(b+=e.css(c,"border"+na[d]+"Width",!0,a)));return b}function O(c,d,g){var A=!0,a="width"===d?c.offsetWidth:c.offsetHeight,b=Pa(c),l="border-box"===e.css(c,"boxSizing",!1,b);if(0>=a||null==a){a=J(c,d,b);if(0>a||null==a)a=c.style[d];if(db.test(a))return a;A=l&&(M.boxSizingReliable()||a===c.style[d]);a=parseFloat(a)||0}return a+T(c,d,g||(l?"border":"content"),A,b)+"px"}function aa(c,
d){for(var g,a,b,l=[],k=0,f=c.length;k<f;k++)if(a=c[k],a.style)if(l[k]=D.get(a,"olddisplay"),g=a.style.display,d)!l[k]&&"none"===g&&(a.style.display=""),""===a.style.display&&Ba(a)&&(l[k]=D.access(a,"olddisplay",F(a.nodeName)));else if(!l[k]&&(b=Ba(a),g&&"none"!==g||!b))D.set(a,"olddisplay",b?g:e.css(a,"display"));for(k=0;k<f;k++)if(a=c[k],a.style&&(!d||"none"===a.style.display||""===a.style.display))a.style.display=d?l[k]||"":"none";return c}function X(c,d,g,e,a){return new X.prototype.init(c,d,
g,e,a)}function k(){setTimeout(function(){va=void 0});return va=e.now()}function p(c,d){var g,e=0,a={height:c};for(d=d?1:0;4>e;e+=2-d)g=na[e],a["margin"+g]=a["padding"+g]=c;d&&(a.opacity=a.width=c);return a}function Y(c,d,g){for(var e,a=(Ca[d]||[]).concat(Ca["*"]),b=0,l=a.length;b<l;b++)if(e=a[b].call(g,d,c))return e}function Z(c,d){var g,a,b,l,k;for(g in c)if(a=e.camelCase(g),b=d[a],l=c[g],e.isArray(l)&&(b=l[1],l=c[g]=l[0]),g!==a&&(c[a]=l,delete c[g]),(k=e.cssHooks[a])&&"expand"in k)for(g in l=k.expand(l),
delete c[a],l)g in c||(c[g]=l[g],d[g]=b);else d[a]=b}function C(c,d,g){var a,b=0,l=Ra.length,f=e.Deferred().always(function(){delete v.elem}),v=function(){if(a)return!1;for(var d=va||k(),d=Math.max(0,p.startTime+p.duration-d),g=1-(d/p.duration||0),e=0,b=p.tweens.length;e<b;e++)p.tweens[e].run(g);f.notifyWith(c,[p,g,d]);if(1>g&&b)return d;f.resolveWith(c,[p]);return!1},p=f.promise({elem:c,props:e.extend({},d),opts:e.extend(!0,{specialEasing:{}},g),originalProperties:d,originalOptions:g,startTime:va||
k(),duration:g.duration,tweens:[],createTween:function(d,g){var a=e.Tween(c,p.opts,d,g,p.opts.specialEasing[d]||p.opts.easing);p.tweens.push(a);return a},stop:function(d){var g=0,e=d?p.tweens.length:0;if(a)return this;for(a=!0;g<e;g++)p.tweens[g].run(1);d?f.resolveWith(c,[p,d]):f.rejectWith(c,[p,d]);return this}});g=p.props;for(Z(g,p.opts.specialEasing);b<l;b++)if(d=Ra[b].call(p,c,g,p.opts))return d;e.map(g,Y,p);e.isFunction(p.opts.start)&&p.opts.start.call(c,p);e.fx.timer(e.extend(v,{elem:c,anim:p,
queue:p.opts.queue}));return p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always)}function oa(c){return function(d,g){"string"!==typeof d&&(g=d,d="*");var a,b=0,l=d.toLowerCase().match(ha)||[];if(e.isFunction(g))for(;a=l[b++];)"+"===a[0]?(a=a.slice(1)||"*",(c[a]=c[a]||[]).unshift(g)):(c[a]=c[a]||[]).push(g)}}function ta(c,d,g,a){function b(f){var p;l[f]=!0;e.each(c[f]||[],function(c,e){var f=e(d,g,a);if("string"===typeof f&&!k&&!l[f])return d.dataTypes.unshift(f),
b(f),!1;if(k)return!(p=f)});return p}var l={},k=c===eb;return b(d.dataTypes[0])||!l["*"]&&b("*")}function l(c,d){var g,a,b=e.ajaxSettings.flatOptions||{};for(g in d)void 0!==d[g]&&((b[g]?c:a||(a={}))[g]=d[g]);a&&e.extend(!0,c,a);return c}function v(c,d,g,a){var b;if(e.isArray(d))e.each(d,function(d,e){g||Fb.test(c)?a(c,e):v(c+"["+("object"===typeof e?d:"")+"]",e,g,a)});else if(!g&&"object"===e.type(d))for(b in d)v(c+"["+b+"]",d[b],g,a);else a(c,d)}var w=[],da=w.slice,U=w.concat,R=w.push,V=w.indexOf,
wa={},Sa=wa.toString,xa=wa.hasOwnProperty,ga="".trim,M={},K=h.document,e=function(c,d){return new e.fn.init(c,d)},ca=/^-ms-/,ka=/-([\da-z])/gi,za=function(c,d){return d.toUpperCase()};e.fn=e.prototype={jquery:"2.1.0",constructor:e,selector:"",length:0,toArray:function(){return da.call(this)},get:function(c){return null!=c?0>c?this[c+this.length]:this[c]:da.call(this)},pushStack:function(c){c=e.merge(this.constructor(),c);c.prevObject=this;c.context=this.context;return c},each:function(c,d){return e.each(this,
c,d)},map:function(c){return this.pushStack(e.map(this,function(d,g){return c.call(d,g,d)}))},slice:function(){return this.pushStack(da.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var d=this.length;c=+c+(0>c?d:0);return this.pushStack(0<=c&&c<d?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:R,sort:w.sort,splice:w.splice};e.extend=e.fn.extend=function(){var c,d,g,a,b,l=arguments[0]||{},k=1,f=arguments.length,
p=!1;"boolean"===typeof l&&(p=l,l=arguments[k]||{},k++);"object"!==typeof l&&!e.isFunction(l)&&(l={});k===f&&(l=this,k--);for(;k<f;k++)if(null!=(c=arguments[k]))for(d in c)g=l[d],a=c[d],l!==a&&(p&&a&&(e.isPlainObject(a)||(b=e.isArray(a)))?(b?(b=!1,g=g&&e.isArray(g)?g:[]):g=g&&e.isPlainObject(g)?g:{},l[d]=e.extend(p,g,a)):void 0!==a&&(l[d]=a));return l};e.extend({expando:"jQuery"+("2.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===
e.type(c)},isArray:Array.isArray,isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){return 0<=c-parseFloat(c)},isPlainObject:function(c){if("object"!==e.type(c)||c.nodeType||e.isWindow(c))return!1;try{if(c.constructor&&!xa.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}return!0},isEmptyObject:function(c){for(var d in c)return!1;return!0},type:function(c){return null==c?c+"":"object"===typeof c||"function"===typeof c?wa[Sa.call(c)]||"object":typeof c},
globalEval:function(c){var d;d=eval;if(c=e.trim(c))1===c.indexOf("use strict")?(d=K.createElement("script"),d.text=c,K.head.appendChild(d).parentNode.removeChild(d)):d(c)},camelCase:function(c){return c.replace(ca,"ms-").replace(ka,za)},nodeName:function(c,d){return c.nodeName&&c.nodeName.toLowerCase()===d.toLowerCase()},each:function(c,d,g){var e,b=0,l=c.length;e=a(c);if(g)if(e)for(;b<l&&!(e=d.apply(c[b],g),!1===e);b++);else for(b in c){if(e=d.apply(c[b],g),!1===e)break}else if(e)for(;b<l&&!(e=d.call(c[b],
b,c[b]),!1===e);b++);else for(b in c)if(e=d.call(c[b],b,c[b]),!1===e)break;return c},trim:function(c){return null==c?"":ga.call(c)},makeArray:function(c,d){var g=d||[];null!=c&&(a(Object(c))?e.merge(g,"string"===typeof c?[c]:c):R.call(g,c));return g},inArray:function(c,d,g){return null==d?-1:V.call(d,c,g)},merge:function(c,d){for(var g=+d.length,a=0,e=c.length;a<g;a++)c[e++]=d[a];c.length=e;return c},grep:function(c,d,g){for(var a=[],e=0,b=c.length,l=!g;e<b;e++)g=!d(c[e],e),g!==l&&a.push(c[e]);return a},
map:function(c,d,g){var e,b=0,l=c.length,k=[];if(a(c))for(;b<l;b++)e=d(c[b],b,g),null!=e&&k.push(e);else for(b in c)e=d(c[b],b,g),null!=e&&k.push(e);return U.apply([],k)},guid:1,proxy:function(c,d){var g,a;"string"===typeof d&&(g=c[d],d=c,c=g);if(e.isFunction(c))return a=da.call(arguments,2),g=function(){return c.apply(d||this,a.concat(da.call(arguments)))},g.guid=c.guid=c.guid||e.guid++,g},now:Date.now,support:M});e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(c,d){wa["[object "+d+"]"]=d.toLowerCase()});var ya=function(c){function d(c,d,g,a){var e,b,A,l,k;(d?d.ownerDocument||d:ia)!==N&&V(d);d=d||N;g=g||[];if(!c||"string"!==typeof c)return g;if(1!==(l=d.nodeType)&&9!==l)return[];if(z&&!a){if(e=na.exec(c))if(A=e[1])if(9===l)if((b=d.getElementById(A))&&b.parentNode){if(b.id===A)return g.push(b),g}else return g;else{if(d.ownerDocument&&(b=d.ownerDocument.getElementById(A))&&ea(d,b)&&b.id===A)return g.push(b),g}else{if(e[2])return P.apply(g,d.getElementsByTagName(c)),
g;if((A=e[3])&&y.getElementsByClassName&&d.getElementsByClassName)return P.apply(g,d.getElementsByClassName(A)),g}if(y.qsa&&(!W||!W.test(c))){b=e=L;A=d;k=9===l&&c;if(1===l&&"object"!==d.nodeName.toLowerCase()){l=m(c);(e=d.getAttribute("id"))?b=e.replace(ka,"\\$&"):d.setAttribute("id",b);b="[id='"+b+"'] ";for(A=l.length;A--;)l[A]=b+w(l[A]);A=ja.test(c)&&v(d.parentNode)||d;k=l.join(",")}if(k)try{return P.apply(g,A.querySelectorAll(k)),g}catch(H){}finally{e||d.removeAttribute("id")}}}var f;a:{c=c.replace(O,
"$1");b=m(c);if(!a&&1===b.length){e=b[0]=b[0].slice(0);if(2<e.length&&"ID"===(f=e[0]).type&&y.getById&&9===d.nodeType&&z&&C.relative[e[1].type]){d=(C.find.ID(f.matches[0].replace(pa,qa),d)||[])[0];if(!d){f=g;break a}c=c.slice(e.shift().value.length)}for(l=fa.needsContext.test(c)?0:e.length;l--;){f=e[l];if(C.relative[A=f.type])break;if(A=C.find[A])if(a=A(f.matches[0].replace(pa,qa),ja.test(e[0].type)&&v(d.parentNode)||d)){e.splice(l,1);c=a.length&&w(e);if(!c){P.apply(g,a);f=g;break a}break}}}G(c,b)(a,
d,!z,g,ja.test(c)&&v(d.parentNode)||d);f=g}return f}function g(){function c(g,e){d.push(g+" ")>C.cacheLength&&delete c[d.shift()];return c[g+" "]=e}var d=[];return c}function a(c){c[L]=!0;return c}function e(c){var d=N.createElement("div");try{return!!c(d)}catch(g){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function b(c,d){for(var g=c.split("|"),e=c.length;e--;)C.attrHandle[g[e]]=d}function l(c,d){var g=d&&c,e=g&&1===c.nodeType&&1===d.nodeType&&(~d.sourceIndex||F)-(~c.sourceIndex||
F);if(e)return e;if(g)for(;g=g.nextSibling;)if(g===d)return-1;return c?1:-1}function k(c){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===c}}function f(c){return function(d){var g=d.nodeName.toLowerCase();return("input"===g||"button"===g)&&d.type===c}}function p(c){return a(function(d){d=+d;return a(function(g,e){for(var a,b=c([],g.length,d),A=b.length;A--;)if(g[a=b[A]])g[a]=!(e[a]=g[a])})})}function v(c){return c&&typeof c.getElementsByTagName!==M&&c}function h(){}function m(c,
g){var e,a,b,A,l,k,f;if(l=ta[c+" "])return g?0:l.slice(0);l=c;k=[];for(f=C.preFilter;l;){if(!e||(a=ha.exec(l)))a&&(l=l.slice(a[0].length)||l),k.push(b=[]);e=!1;if(a=Cb.exec(l))e=a.shift(),b.push({value:e,type:a[0].replace(O," ")}),l=l.slice(e.length);for(A in C.filter)if((a=fa[A].exec(l))&&(!f[A]||(a=f[A](a))))e=a.shift(),b.push({value:e,type:A,matches:a}),l=l.slice(e.length);if(!e)break}return g?l.length:l?d.error(c):ta(c,k).slice(0)}function w(c){for(var d=0,g=c.length,e="";d<g;d++)e+=c[d].value;
return e}function n(c,d,g){var e=d.dir,a=g&&"parentNode"===e,b=wa++;return d.first?function(d,g,b){for(;d=d[e];)if(1===d.nodeType||a)return c(d,g,b)}:function(d,g,l){var A,k,f=[I,b];if(l)for(;d=d[e];){if((1===d.nodeType||a)&&c(d,g,l))return!0}else for(;d=d[e];)if(1===d.nodeType||a){k=d[L]||(d[L]={});if((A=k[e])&&A[0]===I&&A[1]===b)return f[2]=A[2];k[e]=f;if(f[2]=c(d,g,l))return!0}}}function q(c){return 1<c.length?function(d,g,e){for(var a=c.length;a--;)if(!c[a](d,g,e))return!1;return!0}:c[0]}function s(c,
d,g,e,a){for(var b,A=[],l=0,k=c.length,f=null!=d;l<k;l++)if(b=c[l])if(!g||g(b,e,a))A.push(b),f&&d.push(l);return A}function Y(c,g,e,b,l,k){b&&!b[L]&&(b=Y(b));l&&!l[L]&&(l=Y(l,k));return a(function(a,A,k,f){var H,Q,p=[],v=[],h=A.length,m;if(!(m=a)){m=g||"*";for(var w=k.nodeType?[k]:k,n=[],q=0,Qa=w.length;q<Qa;q++)d(m,w[q],n);m=n}m=c&&(a||!g)?s(m,p,c,k,f):m;w=e?l||(a?c:h||b)?[]:A:m;e&&e(m,w,k,f);if(b){H=s(w,v);b(H,[],k,f);for(k=H.length;k--;)if(Q=H[k])w[v[k]]=!(m[v[k]]=Q)}if(a){if(l||c){if(l){H=[];
for(k=w.length;k--;)if(Q=w[k])H.push(m[k]=Q);l(null,w=[],H,f)}for(k=w.length;k--;)if((Q=w[k])&&-1<(H=l?sa.call(a,Q):p[k]))a[H]=!(A[H]=Q)}}else w=s(w===A?w.splice(h,w.length):w),l?l(null,A,w,f):P.apply(A,w)})}function t(c){var d,g,e,a=c.length,b=C.relative[c[0].type];g=b||C.relative[" "];for(var l=b?1:0,A=n(function(c){return c===d},g,!0),k=n(function(c){return-1<sa.call(d,c)},g,!0),f=[function(c,g,e){return!b&&(e||g!==r)||((d=g).nodeType?A(c,g,e):k(c,g,e))}];l<a;l++)if(g=C.relative[c[l].type])f=[n(q(f),
g)];else{g=C.filter[c[l].type].apply(null,c[l].matches);if(g[L]){for(e=++l;e<a&&!C.relative[c[e].type];e++);return Y(1<l&&q(f),1<l&&w(c.slice(0,l-1).concat({value:" "===c[l-2].type?"*":""})).replace(O,"$1"),g,l<e&&t(c.slice(l,e)),e<a&&t(c=c.slice(e)),e<a&&w(c))}f.push(g)}return q(f)}function da(c,g){var e=0<g.length,b=0<c.length,l=function(a,l,A,k,f){var H,Q,p,v=0,m="0",w=a&&[],h=[],n=r,q=a||b&&C.find.TAG("*",f),Qa=I+=null==n?1:Math.random()||0.1,Y=q.length;for(f&&(r=l!==N&&l);m!==Y&&null!=(H=q[m]);m++){if(b&&
H){for(Q=0;p=c[Q++];)if(p(H,l,A)){k.push(H);break}f&&(I=Qa)}e&&((H=!p&&H)&&v--,a&&w.push(H))}v+=m;if(e&&m!==v){for(Q=0;p=g[Q++];)p(w,h,l,A);if(a){if(0<v)for(;m--;)!w[m]&&!h[m]&&(h[m]=X.call(k));h=s(h)}P.apply(k,h);f&&(!a&&0<h.length&&1<v+g.length)&&d.uniqueSort(k)}f&&(I=Qa,r=n);return w};return e?a(l):l}var Z,y,C,U,x,G,r,R,S,V,N,u,z,W,D,oa,ea,L="sizzle"+-new Date,ia=c.document,I=0,wa=0,K=g(),ta=g(),B=g(),E=function(c,d){c===d&&(S=!0);return 0},M="undefined",F=-2147483648,Bb={}.hasOwnProperty,J=[],
X=J.pop,la=J.push,P=J.push,Sa=J.slice,sa=J.indexOf||function(c){for(var d=0,g=this.length;d<g;d++)if(this[d]===c)return d;return-1},T="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),xa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+T+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ba=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+xa.replace(3,8)+")*)|.*)\\)|)",
O=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ha=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Cb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,aa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ga=RegExp(ba),ma=RegExp("^"+T+"$"),fa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+xa),PSEUDO:RegExp("^"+ba),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ca=/^(?:input|select|textarea|button)$/i,Db=/^h\d$/i,Aa=/^[^{]+\{\s*\[native \w/,na=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ja=/[+~]/,ka=/'|\\/g,pa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
qa=function(c,d,g){c="0x"+d-65536;return c!==c||g?d:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,c&1023|56320)};try{P.apply(J=Sa.call(ia.childNodes),ia.childNodes),J[ia.childNodes.length].nodeType}catch(ra){P={apply:J.length?function(c,d){la.apply(c,Sa.call(d))}:function(c,d){for(var g=c.length,e=0;c[g++]=d[e++];);c.length=g-1}}}y=d.support={};x=d.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};V=d.setDocument=function(c){var d=c?c.ownerDocument||
c:ia;c=d.defaultView;if(d===N||9!==d.nodeType||!d.documentElement)return N;N=d;u=d.documentElement;z=!x(d);c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",function(){V()},!1):c.attachEvent&&c.attachEvent("onunload",function(){V()}));y.attributes=e(function(c){c.className="i";return!c.getAttribute("className")});y.getElementsByTagName=e(function(c){c.appendChild(d.createComment(""));return!c.getElementsByTagName("*").length});y.getElementsByClassName=Aa.test(d.getElementsByClassName)&&
e(function(c){c.innerHTML="<div class='a'></div><div class='a i'></div>";c.firstChild.className="i";return 2===c.getElementsByClassName("i").length});y.getById=e(function(c){u.appendChild(c).id=L;return!d.getElementsByName||!d.getElementsByName(L).length});y.getById?(C.find.ID=function(c,d){if(typeof d.getElementById!==M&&z){var g=d.getElementById(c);return g&&g.parentNode?[g]:[]}},C.filter.ID=function(c){var d=c.replace(pa,qa);return function(c){return c.getAttribute("id")===d}}):(delete C.find.ID,
C.filter.ID=function(c){var d=c.replace(pa,qa);return function(c){return(c=typeof c.getAttributeNode!==M&&c.getAttributeNode("id"))&&c.value===d}});C.find.TAG=y.getElementsByTagName?function(c,d){if(typeof d.getElementsByTagName!==M)return d.getElementsByTagName(c)}:function(c,d){var g,e=[],a=0,b=d.getElementsByTagName(c);if("*"===c){for(;g=b[a++];)1===g.nodeType&&e.push(g);return e}return b};C.find.CLASS=y.getElementsByClassName&&function(c,d){if(typeof d.getElementsByClassName!==M&&z)return d.getElementsByClassName(c)};
D=[];W=[];if(y.qsa=Aa.test(d.querySelectorAll))e(function(c){c.innerHTML="<select t=''><option selected=''></option></select>";c.querySelectorAll("[t^='']").length&&W.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||W.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");c.querySelectorAll(":checked").length||W.push(":checked")}),e(function(c){var g=d.createElement("input");
g.setAttribute("type","hidden");c.appendChild(g).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&W.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");c.querySelectorAll(":enabled").length||W.push(":enabled",":disabled");c.querySelectorAll("*,:x");W.push(",.*:")});(y.matchesSelector=Aa.test(oa=u.webkitMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.msMatchesSelector))&&e(function(c){y.disconnectedMatch=oa.call(c,"div");oa.call(c,"[s!='']:x");D.push("!=",ba)});W=W.length&&RegExp(W.join("|"));
D=D.length&&RegExp(D.join("|"));ea=(c=Aa.test(u.compareDocumentPosition))||Aa.test(u.contains)?function(c,d){var g=9===c.nodeType?c.documentElement:c,e=d&&d.parentNode;return c===e||!(!e||!(1===e.nodeType&&(g.contains?g.contains(e):c.compareDocumentPosition&&c.compareDocumentPosition(e)&16)))}:function(c,d){if(d)for(;d=d.parentNode;)if(d===c)return!0;return!1};E=c?function(c,g){if(c===g)return S=!0,0;var e=!c.compareDocumentPosition-!g.compareDocumentPosition;if(e)return e;e=(c.ownerDocument||c)===
(g.ownerDocument||g)?c.compareDocumentPosition(g):1;return e&1||!y.sortDetached&&g.compareDocumentPosition(c)===e?c===d||c.ownerDocument===ia&&ea(ia,c)?-1:g===d||g.ownerDocument===ia&&ea(ia,g)?1:R?sa.call(R,c)-sa.call(R,g):0:e&4?-1:1}:function(c,g){if(c===g)return S=!0,0;var e,a=0;e=c.parentNode;var b=g.parentNode,A=[c],k=[g];if(!e||!b)return c===d?-1:g===d?1:e?-1:b?1:R?sa.call(R,c)-sa.call(R,g):0;if(e===b)return l(c,g);for(e=c;e=e.parentNode;)A.unshift(e);for(e=g;e=e.parentNode;)k.unshift(e);for(;A[a]===
k[a];)a++;return a?l(A[a],k[a]):A[a]===ia?-1:k[a]===ia?1:0};return d};d.matches=function(c,g){return d(c,null,null,g)};d.matchesSelector=function(c,g){(c.ownerDocument||c)!==N&&V(c);g=g.replace(aa,"='$1']");if(y.matchesSelector&&z&&(!D||!D.test(g))&&(!W||!W.test(g)))try{var e=oa.call(c,g);if(e||y.disconnectedMatch||c.document&&11!==c.document.nodeType)return e}catch(a){}return 0<d(g,N,null,[c]).length};d.contains=function(c,d){(c.ownerDocument||c)!==N&&V(c);return ea(c,d)};d.attr=function(c,d){(c.ownerDocument||
c)!==N&&V(c);var g=C.attrHandle[d.toLowerCase()],g=g&&Bb.call(C.attrHandle,d.toLowerCase())?g(c,d,!z):void 0;return void 0!==g?g:y.attributes||!z?c.getAttribute(d):(g=c.getAttributeNode(d))&&g.specified?g.value:null};d.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};d.uniqueSort=function(c){var d,g=[],e=0,a=0;S=!y.detectDuplicates;R=!y.sortStable&&c.slice(0);c.sort(E);if(S){for(;d=c[a++];)d===c[a]&&(e=g.push(a));for(;e--;)c.splice(g[e],1)}R=null;return c};U=d.getText=
function(c){var d,g="",e=0;if(d=c.nodeType)if(1===d||9===d||11===d){if("string"===typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)g+=U(c)}else{if(3===d||4===d)return c.nodeValue}else for(;d=c[e++];)g+=U(d);return g};C=d.selectors={cacheLength:50,createPseudo:a,match:fa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){c[1]=c[1].replace(pa,
qa);c[3]=(c[4]||c[5]||"").replace(pa,qa);"~="===c[2]&&(c[3]=" "+c[3]+" ");return c.slice(0,4)},CHILD:function(c){c[1]=c[1].toLowerCase();"nth"===c[1].slice(0,3)?(c[3]||d.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&d.error(c[0]);return c},PSEUDO:function(c){var d,g=!c[5]&&c[2];if(fa.CHILD.test(c[0]))return null;if(c[3]&&void 0!==c[4])c[2]=c[4];else if(g&&ga.test(g)&&(d=m(g,!0))&&(d=g.indexOf(")",g.length-d)-g.length))c[0]=c[0].slice(0,
d),c[2]=g.slice(0,d);return c.slice(0,3)}},filter:{TAG:function(c){var d=c.replace(pa,qa).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===d}},CLASS:function(c){var d=K[c+" "];return d||(d=RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"))&&K(c,function(c){return d.test("string"===typeof c.className&&c.className||typeof c.getAttribute!==M&&c.getAttribute("class")||"")})},ATTR:function(c,g,e){return function(a){a=d.attr(a,c);if(null==
a)return"!="===g;if(!g)return!0;a+="";return"="===g?a===e:"!="===g?a!==e:"^="===g?e&&0===a.indexOf(e):"*="===g?e&&-1<a.indexOf(e):"$="===g?e&&a.slice(-e.length)===e:"~="===g?-1<(" "+a+" ").indexOf(e):"|="===g?a===e||a.slice(0,e.length+1)===e+"-":!1}},CHILD:function(c,d,g,e,a){var b="nth"!==c.slice(0,3),l="last"!==c.slice(-4),A="of-type"===d;return 1===e&&0===a?function(c){return!!c.parentNode}:function(d,g,k){var f,H,Q,p,v;g=b!==l?"nextSibling":"previousSibling";var m=d.parentNode,h=A&&d.nodeName.toLowerCase();
k=!k&&!A;if(m){if(b){for(;g;){for(H=d;H=H[g];)if(A?H.nodeName.toLowerCase()===h:1===H.nodeType)return!1;v=g="only"===c&&!v&&"nextSibling"}return!0}v=[l?m.firstChild:m.lastChild];if(l&&k){k=m[L]||(m[L]={});f=k[c]||[];p=f[0]===I&&f[1];Q=f[0]===I&&f[2];for(H=p&&m.childNodes[p];H=++p&&H&&H[g]||(Q=p=0)||v.pop();)if(1===H.nodeType&&++Q&&H===d){k[c]=[I,p,Q];break}}else if(k&&(f=(d[L]||(d[L]={}))[c])&&f[0]===I)Q=f[1];else for(;H=++p&&H&&H[g]||(Q=p=0)||v.pop();)if((A?H.nodeName.toLowerCase()===h:1===H.nodeType)&&
++Q)if(k&&((H[L]||(H[L]={}))[c]=[I,Q]),H===d)break;Q-=a;return Q===e||0===Q%e&&0<=Q/e}}},PSEUDO:function(c,g){var e,b=C.pseudos[c]||C.setFilters[c.toLowerCase()]||d.error("unsupported pseudo: "+c);return b[L]?b(g):1<b.length?(e=[c,c,"",g],C.setFilters.hasOwnProperty(c.toLowerCase())?a(function(c,d){for(var e,a=b(c,g),l=a.length;l--;)e=sa.call(c,a[l]),c[e]=!(d[e]=a[l])}):function(c){return b(c,0,e)}):b}},pseudos:{not:a(function(c){var d=[],g=[],e=G(c.replace(O,"$1"));return e[L]?a(function(c,d,g,a){a=
e(c,null,a,[]);for(var b=c.length;b--;)if(g=a[b])c[b]=!(d[b]=g)}):function(c,a,b){d[0]=c;e(d,null,b,g);return!g.pop()}}),has:a(function(c){return function(g){return 0<d(c,g).length}}),contains:a(function(c){return function(d){return-1<(d.textContent||d.innerText||U(d)).indexOf(c)}}),lang:a(function(c){ma.test(c||"")||d.error("unsupported lang: "+c);c=c.replace(pa,qa).toLowerCase();return function(d){var g;do if(g=z?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return g=g.toLowerCase(),
g===c||0===g.indexOf(c+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var g=c.location&&c.location.hash;return g&&g.slice(1)===d.id},root:function(c){return c===u},focus:function(c){return c===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!(!c.type&&!c.href&&!~c.tabIndex)},enabled:function(c){return!1===c.disabled},disabled:function(c){return!0===c.disabled},checked:function(c){var d=c.nodeName.toLowerCase();return"input"===d&&!!c.checked||"option"===d&&!!c.selected},
selected:function(c){c.parentNode&&c.parentNode.selectedIndex;return!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!C.pseudos.empty(c)},header:function(c){return Db.test(c.nodeName)},input:function(c){return ca.test(c.nodeName)},button:function(c){var d=c.nodeName.toLowerCase();return"input"===d&&"button"===c.type||"button"===d},text:function(c){var d;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==
(d=c.getAttribute("type"))||"text"===d.toLowerCase())},first:p(function(){return[0]}),last:p(function(c,d){return[d-1]}),eq:p(function(c,d,g){return[0>g?g+d:g]}),even:p(function(c,d){for(var g=0;g<d;g+=2)c.push(g);return c}),odd:p(function(c,d){for(var g=1;g<d;g+=2)c.push(g);return c}),lt:p(function(c,d,g){for(d=0>g?g+d:g;0<=--d;)c.push(d);return c}),gt:p(function(c,d,g){for(g=0>g?g+d:g;++g<d;)c.push(g);return c})}};C.pseudos.nth=C.pseudos.eq;for(Z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[Z]=
k(Z);for(Z in{submit:!0,reset:!0})C.pseudos[Z]=f(Z);h.prototype=C.filters=C.pseudos;C.setFilters=new h;G=d.compile=function(c,d){var g,e=[],a=[],b=B[c+" "];if(!b){d||(d=m(c));for(g=d.length;g--;)b=t(d[g]),b[L]?e.push(b):a.push(b);b=B(c,da(a,e))}return b};y.sortStable=L.split("").sort(E).join("")===L;y.detectDuplicates=!!S;V();y.sortDetached=e(function(c){return c.compareDocumentPosition(N.createElement("div"))&1});e(function(c){c.innerHTML="<a href='#'></a>";return"#"===c.firstChild.getAttribute("href")})||
b("type|href|height|width",function(c,d,g){if(!g)return c.getAttribute(d,"type"===d.toLowerCase()?1:2)});(!y.attributes||!e(function(c){c.innerHTML="<input/>";c.firstChild.setAttribute("value","");return""===c.firstChild.getAttribute("value")}))&&b("value",function(c,d,g){if(!g&&"input"===c.nodeName.toLowerCase())return c.defaultValue});e(function(c){return null==c.getAttribute("disabled")})||b("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(c,d,g){var e;if(!g)return!0===c[d]?d.toLowerCase():(e=c.getAttributeNode(d))&&e.specified?e.value:null});return d}(h);e.find=ya;e.expr=ya.selectors;e.expr[":"]=e.expr.pseudos;e.unique=ya.uniqueSort;e.text=ya.getText;e.isXMLDoc=ya.isXML;e.contains=ya.contains;var ra=e.expr.match.needsContext,ua=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ja=/^.[^:#\[\.,]*$/;e.filter=function(c,d,g){var a=d[0];g&&(c=":not("+c+")");return 1===d.length&&1===a.nodeType?e.find.matchesSelector(a,c)?[a]:[]:e.find.matches(c,e.grep(d,
function(c){return 1===c.nodeType}))};e.fn.extend({find:function(c){var d,g=this.length,a=[],b=this;if("string"!==typeof c)return this.pushStack(e(c).filter(function(){for(d=0;d<g;d++)if(e.contains(b[d],this))return!0}));for(d=0;d<g;d++)e.find(c,b[d],a);a=this.pushStack(1<g?e.unique(a):a);a.selector=this.selector?this.selector+" "+c:c;return a},filter:function(c){return this.pushStack(f(this,c||[],!1))},not:function(c){return this.pushStack(f(this,c||[],!0))},is:function(c){return!!f(this,"string"===
typeof c&&ra.test(c)?e(c):c||[],!1).length}});var Ta,La=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(e.fn.init=function(c,d){var g;if(!c)return this;if("string"===typeof c){if((g="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:La.exec(c))&&(g[1]||!d)){if(g[1]){if(d=d instanceof e?d[0]:d,e.merge(this,e.parseHTML(g[1],d&&d.nodeType?d.ownerDocument||d:K,!0)),ua.test(g[1])&&e.isPlainObject(d))for(g in d)if(e.isFunction(this[g]))this[g](d[g]);else this.attr(g,d[g])}else{if((g=K.getElementById(g[2]))&&
g.parentNode)this.length=1,this[0]=g;this.context=K;this.selector=c}return this}return!d||d.jquery?(d||Ta).find(c):this.constructor(d).find(c)}if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if(e.isFunction(c))return"undefined"!==typeof Ta.ready?Ta.ready(c):c(e);void 0!==c.selector&&(this.selector=c.selector,this.context=c.context);return e.makeArray(c,this)}).prototype=e.fn;Ta=e(K);var Ma=/^(?:parents|prev(?:Until|All))/,Ya={children:!0,contents:!0,next:!0,prev:!0};e.extend({dir:function(c,
d,g){for(var a=[],b=void 0!==g;(c=c[d])&&9!==c.nodeType;)if(1===c.nodeType){if(b&&e(c).is(g))break;a.push(c)}return a},sibling:function(c,d){for(var g=[];c;c=c.nextSibling)1===c.nodeType&&c!==d&&g.push(c);return g}});e.fn.extend({has:function(c){var d=e(c,this),g=d.length;return this.filter(function(){for(var c=0;c<g;c++)if(e.contains(this,d[c]))return!0})},closest:function(c,d){for(var g,a=0,b=this.length,l=[],k=ra.test(c)||"string"!==typeof c?e(c,d||this.context):0;a<b;a++)for(g=this[a];g&&g!==
d;g=g.parentNode)if(11>g.nodeType&&(k?-1<k.index(g):1===g.nodeType&&e.find.matchesSelector(g,c))){l.push(g);break}return this.pushStack(1<l.length?e.unique(l):l)},index:function(c){return!c?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof c?V.call(e(c),this[0]):V.call(this,c.jquery?c[0]:c)},add:function(c,d){return this.pushStack(e.unique(e.merge(this.get(),e(c,d))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});e.each({parent:function(c){return(c=
c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return e.dir(c,"parentNode")},parentsUntil:function(c,d,g){return e.dir(c,"parentNode",g)},next:function(c){return m(c,"nextSibling")},prev:function(c){return m(c,"previousSibling")},nextAll:function(c){return e.dir(c,"nextSibling")},prevAll:function(c){return e.dir(c,"previousSibling")},nextUntil:function(c,d,g){return e.dir(c,"nextSibling",g)},prevUntil:function(c,d,g){return e.dir(c,"previousSibling",g)},siblings:function(c){return e.sibling((c.parentNode||
{}).firstChild,c)},children:function(c){return e.sibling(c.firstChild)},contents:function(c){return c.contentDocument||e.merge([],c.childNodes)}},function(c,d){e.fn[c]=function(g,a){var b=e.map(this,d,g);"Until"!==c.slice(-5)&&(a=g);a&&"string"===typeof a&&(b=e.filter(a,b));1<this.length&&(Ya[c]||e.unique(b),Ma.test(c)&&b.reverse());return this.pushStack(b)}});var ha=/\S+/g,Fa={};e.Callbacks=function(c){c="string"===typeof c?Fa[c]||t(c):e.extend({},c);var d,g,a,b,l,k,f=[],p=!c.once&&[],v=function(e){d=
c.memory&&e;g=!0;k=b||0;b=0;l=f.length;for(a=!0;f&&k<l;k++)if(!1===f[k].apply(e[0],e[1])&&c.stopOnFalse){d=!1;break}a=!1;f&&(p?p.length&&v(p.shift()):d?f=[]:m.disable())},m={add:function(){if(f){var g=f.length;(function Gb(d){e.each(d,function(d,g){var a=e.type(g);"function"===a?(!c.unique||!m.has(g))&&f.push(g):g&&(g.length&&"string"!==a)&&Gb(g)})})(arguments);a?l=f.length:d&&(b=g,v(d))}return this},remove:function(){f&&e.each(arguments,function(c,d){for(var g;-1<(g=e.inArray(d,f,g));)f.splice(g,
1),a&&(g<=l&&l--,g<=k&&k--)});return this},has:function(c){return c?-1<e.inArray(c,f):!(!f||!f.length)},empty:function(){f=[];l=0;return this},disable:function(){f=p=d=void 0;return this},disabled:function(){return!f},lock:function(){p=void 0;d||m.disable();return this},locked:function(){return!p},fireWith:function(c,d){if(f&&(!g||p))d=d||[],d=[c,d.slice?d.slice():d],a?p.push(d):v(d);return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!g}};return m};e.extend({Deferred:function(c){var d=
[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],g="pending",a={state:function(){return g},always:function(){b.done(arguments).fail(arguments);return this},then:function(){var c=arguments;return e.Deferred(function(g){e.each(d,function(d,l){var k=e.isFunction(c[d])&&c[d];b[l[1]](function(){var c=k&&k.apply(this,arguments);if(c&&e.isFunction(c.promise))c.promise().done(g.resolve).fail(g.reject).progress(g.notify);
else g[l[0]+"With"](this===a?g.promise():this,k?[c]:arguments)})});c=null}).promise()},promise:function(c){return null!=c?e.extend(c,a):a}},b={};a.pipe=a.then;e.each(d,function(c,e){var l=e[2],k=e[3];a[e[1]]=l.add;k&&l.add(function(){g=k},d[c^1][2].disable,d[2][2].lock);b[e[0]]=function(){b[e[0]+"With"](this===b?a:this,arguments);return this};b[e[0]+"With"]=l.fireWith});a.promise(b);c&&c.call(b,b);return b},when:function(c){var d=0,g=da.call(arguments),a=g.length,b=1!==a||c&&e.isFunction(c.promise)?
a:0,l=1===b?c:e.Deferred(),k=function(c,d,g){return function(e){d[c]=this;g[c]=1<arguments.length?da.call(arguments):e;g===f?l.notifyWith(d,g):--b||l.resolveWith(d,g)}},f,p,v;if(1<a){f=Array(a);p=Array(a);for(v=Array(a);d<a;d++)g[d]&&e.isFunction(g[d].promise)?g[d].promise().done(k(d,v,g)).fail(l.reject).progress(k(d,p,f)):--b}b||l.resolveWith(v,g);return l.promise()}});var Ua;e.fn.ready=function(c){e.ready.promise().done(c);return this};e.extend({isReady:!1,readyWait:1,holdReady:function(c){c?e.readyWait++:
e.ready(!0)},ready:function(c){if(!(!0===c?--e.readyWait:e.isReady))e.isReady=!0,!0!==c&&0<--e.readyWait||(Ua.resolveWith(K,[e]),e.fn.trigger&&e(K).trigger("ready").off("ready"))}});e.ready.promise=function(c){Ua||(Ua=e.Deferred(),"complete"===K.readyState?setTimeout(e.ready):(K.addEventListener("DOMContentLoaded",q,!1),h.addEventListener("load",q,!1)));return Ua.promise(c)};e.ready.promise();var ma=e.access=function(c,d,g,a,b,l,k){var f=0,p=c.length,v=null==g;if("object"===e.type(g))for(f in b=!0,
g)e.access(c,d,f,g[f],!0,l,k);else if(void 0!==a&&(b=!0,e.isFunction(a)||(k=!0),v&&(k?(d.call(c,a),d=null):(v=d,d=function(c,d,g){return v.call(e(c),g)})),d))for(;f<p;f++)d(c[f],g,k?a:a.call(c[f],f,d(c[f],g)));return b?c:v?d.call(c):p?d(c[0],g):l};e.acceptData=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};s.uid=1;s.accepts=e.acceptData;s.prototype={key:function(c){if(!s.accepts(c))return 0;var d={},g=c[this.expando];if(!g){g=s.uid++;try{d[this.expando]={value:g},Object.defineProperties(c,
d)}catch(a){d[this.expando]=g,e.extend(c,d)}}this.cache[g]||(this.cache[g]={});return g},set:function(c,d,g){var a;c=this.key(c);var b=this.cache[c];if("string"===typeof d)b[d]=g;else if(e.isEmptyObject(b))e.extend(this.cache[c],d);else for(a in d)b[a]=d[a];return b},get:function(c,d){var g=this.cache[this.key(c)];return void 0===d?g:g[d]},access:function(c,d,g){if(void 0===d||d&&"string"===typeof d&&void 0===g)return g=this.get(c,d),void 0!==g?g:this.get(c,e.camelCase(d));this.set(c,d,g);return void 0!==
g?g:d},remove:function(c,d){var g,a;g=this.key(c);var b=this.cache[g];if(void 0===d)this.cache[g]={};else{e.isArray(d)?a=d.concat(d.map(e.camelCase)):(g=e.camelCase(d),d in b?a=[d,g]:(a=g,a=a in b?[a]:a.match(ha)||[]));for(g=a.length;g--;)delete b[a[g]]}},hasData:function(c){return!e.isEmptyObject(this.cache[c[this.expando]]||{})},discard:function(c){c[this.expando]&&delete this.cache[c[this.expando]]}};var D=new s,P=new s,Za=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$a=/([A-Z])/g;e.extend({hasData:function(c){return P.hasData(c)||
D.hasData(c)},data:function(c,d,g){return P.access(c,d,g)},removeData:function(c,d){P.remove(c,d)},_data:function(c,d,g){return D.access(c,d,g)},_removeData:function(c,d){D.remove(c,d)}});e.fn.extend({data:function(c,d){var g,a,b,l=this[0],k=l&&l.attributes;if(void 0===c){if(this.length&&(b=P.get(l),1===l.nodeType&&!D.get(l,"hasDataAttrs"))){for(g=k.length;g--;)a=k[g].name,0===a.indexOf("data-")&&(a=e.camelCase(a.slice(5)),x(l,a,b[a]));D.set(l,"hasDataAttrs",!0)}return b}return"object"===typeof c?
this.each(function(){P.set(this,c)}):ma(this,function(d){var g,a=e.camelCase(c);if(l&&void 0===d){g=P.get(l,c);if(void 0!==g)return g;g=P.get(l,a);if(void 0!==g)return g;g=x(l,a,void 0);if(void 0!==g)return g}else this.each(function(){var g=P.get(this,a);P.set(this,a,d);-1!==c.indexOf("-")&&void 0!==g&&P.set(this,c,d)})},null,d,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){P.remove(this,c)})}});e.extend({queue:function(c,d,g){var a;if(c)return d=(d||"fx")+"queue",
a=D.get(c,d),g&&(!a||e.isArray(g)?a=D.access(c,d,e.makeArray(g)):a.push(g)),a||[]},dequeue:function(c,d){d=d||"fx";var g=e.queue(c,d),a=g.length,b=g.shift(),l=e._queueHooks(c,d),k=function(){e.dequeue(c,d)};"inprogress"===b&&(b=g.shift(),a--);b&&("fx"===d&&g.unshift("inprogress"),delete l.stop,b.call(c,k,l));!a&&l&&l.empty.fire()},_queueHooks:function(c,d){var g=d+"queueHooks";return D.get(c,g)||D.access(c,g,{empty:e.Callbacks("once memory").add(function(){D.remove(c,[d+"queue",g])})})}});e.fn.extend({queue:function(c,
d){var g=2;"string"!==typeof c&&(d=c,c="fx",g--);return arguments.length<g?e.queue(this[0],c):void 0===d?this:this.each(function(){var g=e.queue(this,c,d);e._queueHooks(this,c);"fx"===c&&"inprogress"!==g[0]&&e.dequeue(this,c)})},dequeue:function(c){return this.each(function(){e.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,d){var g,a=1,b=e.Deferred(),l=this,k=this.length,f=function(){--a||b.resolveWith(l,[l])};"string"!==typeof c&&(d=c,c=void 0);for(c=
c||"fx";k--;)if((g=D.get(l[k],c+"queueHooks"))&&g.empty)a++,g.empty.add(f);f();return b.promise(d)}});var Va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,na=["Top","Right","Bottom","Left"],Ba=function(c,d){c=d||c;return"none"===e.css(c,"display")||!e.contains(c.ownerDocument,c)},Ga=/^(?:checkbox|radio)$/i;(function(){var c=K.createDocumentFragment().appendChild(K.createElement("div"));c.innerHTML="<input type='radio' checked='checked' name='t'/>";M.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;
c.innerHTML="<textarea>x</textarea>";M.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue})();M.focusinBubbles="onfocusin"in h;var ab=/^key/,bb=/^(?:mouse|contextmenu)|click/,Ha=/^(?:focusinfocus|focusoutblur)$/,Ia=/^([^.]*)(?:\.(.+)|)$/;e.event={global:{},add:function(c,d,g,a,b){var l,k,f,p,v,m,h,w,n;if(v=D.get(c)){g.handler&&(l=g,g=l.handler,b=l.selector);g.guid||(g.guid=e.guid++);if(!(p=v.events))p=v.events={};if(!(k=v.handle))k=v.handle=function(d){return"undefined"!==typeof e&&e.event.triggered!==
d.type?e.event.dispatch.apply(c,arguments):void 0};d=(d||"").match(ha)||[""];for(v=d.length;v--;)if(f=Ia.exec(d[v])||[],w=m=f[1],n=(f[2]||"").split(".").sort(),w){f=e.event.special[w]||{};w=(b?f.delegateType:f.bindType)||w;f=e.event.special[w]||{};m=e.extend({type:w,origType:m,data:a,handler:g,guid:g.guid,selector:b,needsContext:b&&e.expr.match.needsContext.test(b),namespace:n.join(".")},l);if(!(h=p[w]))h=p[w]=[],h.delegateCount=0,(!f.setup||!1===f.setup.call(c,a,n,k))&&c.addEventListener&&c.addEventListener(w,
k,!1);f.add&&(f.add.call(c,m),m.handler.guid||(m.handler.guid=g.guid));b?h.splice(h.delegateCount++,0,m):h.push(m);e.event.global[w]=!0}}},remove:function(c,d,g,a,b){var l,k,f,p,v,m,w,h,n,q,s,Y=D.hasData(c)&&D.get(c);if(Y&&(p=Y.events)){d=(d||"").match(ha)||[""];for(v=d.length;v--;)if(f=Ia.exec(d[v])||[],n=s=f[1],q=(f[2]||"").split(".").sort(),n){w=e.event.special[n]||{};n=(a?w.delegateType:w.bindType)||n;h=p[n]||[];f=f[2]&&RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=l=h.length;l--;)if(m=
h[l],(b||s===m.origType)&&(!g||g.guid===m.guid)&&(!f||f.test(m.namespace))&&(!a||a===m.selector||"**"===a&&m.selector))h.splice(l,1),m.selector&&h.delegateCount--,w.remove&&w.remove.call(c,m);k&&!h.length&&((!w.teardown||!1===w.teardown.call(c,q,Y.handle))&&e.removeEvent(c,n,Y.handle),delete p[n])}else for(n in p)e.event.remove(c,n+d[v],g,a,!0);e.isEmptyObject(p)&&(delete Y.handle,D.remove(c,"events"))}},trigger:function(c,d,g,a){var b,l,k,f,p,v,m=[g||K],w=xa.call(c,"type")?c.type:c;v=xa.call(c,"namespace")?
c.namespace.split("."):[];l=b=g=g||K;if(!(3===g.nodeType||8===g.nodeType)&&!Ha.test(w+e.event.triggered))if(0<=w.indexOf(".")&&(v=w.split("."),w=v.shift(),v.sort()),f=0>w.indexOf(":")&&"on"+w,c=c[e.expando]?c:new e.Event(w,"object"===typeof c&&c),c.isTrigger=a?2:3,c.namespace=v.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=g),d=null==d?[c]:e.makeArray(d,[c]),v=e.event.special[w]||{},a||!(v.trigger&&!1===v.trigger.apply(g,
d))){if(!a&&!v.noBubble&&!e.isWindow(g)){k=v.delegateType||w;Ha.test(k+w)||(l=l.parentNode);for(;l;l=l.parentNode)m.push(l),b=l;if(b===(g.ownerDocument||K))m.push(b.defaultView||b.parentWindow||h)}for(b=0;(l=m[b++])&&!c.isPropagationStopped();)if(c.type=1<b?k:v.bindType||w,(p=(D.get(l,"events")||{})[c.type]&&D.get(l,"handle"))&&p.apply(l,d),(p=f&&l[f])&&p.apply&&e.acceptData(l))c.result=p.apply(l,d),!1===c.result&&c.preventDefault();c.type=w;if(!a&&!c.isDefaultPrevented()&&(!v._default||!1===v._default.apply(m.pop(),
d))&&e.acceptData(g)&&f&&e.isFunction(g[w])&&!e.isWindow(g))(b=g[f])&&(g[f]=null),e.event.triggered=w,g[w](),e.event.triggered=void 0,b&&(g[f]=b);return c.result}},dispatch:function(c){c=e.event.fix(c);var d,g,a,b,l=[],k=da.call(arguments);d=(D.get(this,"events")||{})[c.type]||[];var f=e.event.special[c.type]||{};k[0]=c;c.delegateTarget=this;if(!(f.preDispatch&&!1===f.preDispatch.call(this,c))){l=e.event.handlers.call(this,c,d);for(d=0;(b=l[d++])&&!c.isPropagationStopped();){c.currentTarget=b.elem;
for(g=0;(a=b.handlers[g++])&&!c.isImmediatePropagationStopped();)if(!c.namespace_re||c.namespace_re.test(a.namespace))if(c.handleObj=a,c.data=a.data,a=((e.event.special[a.origType]||{}).handle||a.handler).apply(b.elem,k),void 0!==a&&!1===(c.result=a))c.preventDefault(),c.stopPropagation()}f.postDispatch&&f.postDispatch.call(this,c);return c.result}},handlers:function(c,d){var g,a,b,l,k=[],f=d.delegateCount,p=c.target;if(f&&p.nodeType&&(!c.button||"click"!==c.type))for(;p!==this;p=p.parentNode||this)if(!0!==
p.disabled||"click"!==c.type){a=[];for(g=0;g<f;g++)l=d[g],b=l.selector+" ",void 0===a[b]&&(a[b]=l.needsContext?0<=e(b,this).index(p):e.find(b,this,null,[p]).length),a[b]&&a.push(l);a.length&&k.push({elem:p,handlers:a})}f<d.length&&k.push({elem:this,handlers:d.slice(f)});return k},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(c,d){null==
c.which&&(c.which=null!=d.charCode?d.charCode:d.keyCode);return c}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(c,d){var g,a,e=d.button;null==c.pageX&&null!=d.clientX&&(g=c.target.ownerDocument||K,a=g.documentElement,g=g.body,c.pageX=d.clientX+(a&&a.scrollLeft||g&&g.scrollLeft||0)-(a&&a.clientLeft||g&&g.clientLeft||0),c.pageY=d.clientY+(a&&a.scrollTop||g&&g.scrollTop||0)-(a&&a.clientTop||g&&g.clientTop||0));!c.which&&
void 0!==e&&(c.which=e&1?1:e&2?3:e&4?2:0);return c}},fix:function(c){if(c[e.expando])return c;var d,g,a;d=c.type;var b=c,l=this.fixHooks[d];l||(this.fixHooks[d]=l=bb.test(d)?this.mouseHooks:ab.test(d)?this.keyHooks:{});a=l.props?this.props.concat(l.props):this.props;c=new e.Event(b);for(d=a.length;d--;)g=a[d],c[g]=b[g];c.target||(c.target=K);3===c.target.nodeType&&(c.target=c.target.parentNode);return l.filter?l.filter(c,b):c},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==r()&&this.focus)return this.focus(),
!1},delegateType:"focusin"},blur:{trigger:function(){if(this===r()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&e.nodeName(this,"input"))return this.click(),!1},_default:function(c){return e.nodeName(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&(c.originalEvent.returnValue=c.result)}}},simulate:function(c,d,g,a){c=e.extend(new e.Event,g,{type:c,isSimulated:!0,originalEvent:{}});a?e.event.trigger(c,
null,d):e.event.dispatch.call(d,c);c.isDefaultPrevented()&&g.preventDefault()}};e.removeEvent=function(c,d,g){c.removeEventListener&&c.removeEventListener(d,g,!1)};e.Event=function(c,d){if(!(this instanceof e.Event))return new e.Event(c,d);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&c.getPreventDefault&&c.getPreventDefault()?S:y):this.type=c;d&&e.extend(this,d);this.timeStamp=c&&c.timeStamp||e.now();this[e.expando]=!0};
e.Event.prototype={isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=S;c&&c.preventDefault&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=S;c&&c.stopPropagation&&c.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=S;this.stopPropagation()}};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,d){e.event.special[c]=
{delegateType:d,bindType:d,handle:function(c){var a,b=c.relatedTarget,l=c.handleObj;if(!b||b!==this&&!e.contains(this,b))c.type=l.origType,a=l.handler.apply(this,arguments),c.type=d;return a}}});M.focusinBubbles||e.each({focus:"focusin",blur:"focusout"},function(c,d){var g=function(c){e.event.simulate(d,c.target,e.event.fix(c),!0)};e.event.special[d]={setup:function(){var a=this.ownerDocument||this,e=D.access(a,d);e||a.addEventListener(c,g,!0);D.access(a,d,(e||0)+1)},teardown:function(){var a=this.ownerDocument||
this,e=D.access(a,d)-1;e?D.access(a,d,e):(a.removeEventListener(c,g,!0),D.remove(a,d))}}});e.fn.extend({on:function(c,d,g,a,b){var l,k;if("object"===typeof c){"string"!==typeof d&&(g=g||d,d=void 0);for(k in c)this.on(k,d,g,c[k],b);return this}null==g&&null==a?(a=d,g=d=void 0):null==a&&("string"===typeof d?(a=g,g=void 0):(a=g,g=d,d=void 0));if(!1===a)a=y;else if(!a)return this;1===b&&(l=a,a=function(c){e().off(c);return l.apply(this,arguments)},a.guid=l.guid||(l.guid=e.guid++));return this.each(function(){e.event.add(this,
c,a,g,d)})},one:function(c,d,g,a){return this.on(c,d,g,a,1)},off:function(c,d,g){var a;if(c&&c.preventDefault&&c.handleObj)return a=c.handleObj,e(c.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"===typeof c){for(a in c)this.off(a,d,c[a]);return this}if(!1===d||"function"===typeof d)g=d,d=void 0;!1===g&&(g=y);return this.each(function(){e.event.remove(this,c,g,d)})},trigger:function(c,d){return this.each(function(){e.event.trigger(c,d,this)})},
triggerHandler:function(c,d){var g=this[0];if(g)return e.event.trigger(c,d,g,!0)}});var Ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Na=/<([\w:]+)/,cb=/<|&#?\w+;/,jb=/<(?:script|style|link)/i,kb=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,lb=/^true\/(.*)/,Hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ba={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,
"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ba.optgroup=ba.option;ba.tbody=ba.tfoot=ba.colgroup=ba.caption=ba.thead;ba.th=ba.td;e.extend({clone:function(c,d,g){var a,b,l,k,f=c.cloneNode(!0),p=e.contains(c.ownerDocument,c);if(!M.noCloneChecked&&(1===c.nodeType||11===c.nodeType)&&!e.isXMLDoc(c)){k=I(f);l=I(c);a=0;for(b=l.length;a<b;a++){var v=l[a],m=k[a],w=m.nodeName.toLowerCase();if("input"===w&&Ga.test(v.type))m.checked=v.checked;else if("input"===
w||"textarea"===w)m.defaultValue=v.defaultValue}}if(d)if(g){l=l||I(c);k=k||I(f);a=0;for(b=l.length;a<b;a++)B(l[a],k[a])}else B(c,f);k=I(f,"script");0<k.length&&ea(k,!p&&I(c,"script"));return f},buildFragment:function(c,d,g,a){for(var b,l,k,f=d.createDocumentFragment(),p=[],v=0,m=c.length;v<m;v++)if((b=c[v])||0===b)if("object"===e.type(b))e.merge(p,b.nodeType?[b]:b);else if(cb.test(b)){l=l||f.appendChild(d.createElement("div"));k=(Na.exec(b)||["",""])[1].toLowerCase();k=ba[k]||ba._default;l.innerHTML=
k[1]+b.replace(Ka,"<$1></$2>")+k[2];for(k=k[0];k--;)l=l.lastChild;e.merge(p,l.childNodes);l=f.firstChild;l.textContent=""}else p.push(d.createTextNode(b));f.textContent="";for(v=0;b=p[v++];)if(!(a&&-1!==e.inArray(b,a))&&(c=e.contains(b.ownerDocument,b),l=I(f.appendChild(b),"script"),c&&ea(l),g))for(k=0;b=l[k++];)pb.test(b.type||"")&&g.push(b);return f},cleanData:function(c){for(var d,g,a,b,l,k,f=e.event.special,p=0;void 0!==(g=c[p]);p++){if(e.acceptData(g)&&(l=g[D.expando])&&(d=D.cache[l])){a=Object.keys(d.events||
{});if(a.length)for(k=0;void 0!==(b=a[k]);k++)f[b]?e.event.remove(g,b):e.removeEvent(g,b,d.handle);D.cache[l]&&delete D.cache[l]}delete P.cache[g[P.expando]]}}});e.fn.extend({text:function(c){return ma(this,function(c){return void 0===c?e.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=c})},null,c,arguments.length)},append:function(){return this.domManip(arguments,function(c){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&
u(this,c).appendChild(c)})},prepend:function(){return this.domManip(arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=u(this,c);d.insertBefore(c,d.firstChild)}})},before:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},remove:function(c,d){for(var g,a=c?e.filter(c,this):
this,b=0;null!=(g=a[b]);b++)!d&&1===g.nodeType&&e.cleanData(I(g)),g.parentNode&&(d&&e.contains(g.ownerDocument,g)&&ea(I(g,"script")),g.parentNode.removeChild(g));return this},empty:function(){for(var c,d=0;null!=(c=this[d]);d++)1===c.nodeType&&(e.cleanData(I(c,!1)),c.textContent="");return this},clone:function(c,d){c=null==c?!1:c;d=null==d?c:d;return this.map(function(){return e.clone(this,c,d)})},html:function(c){return ma(this,function(c){var g=this[0]||{},a=0,b=this.length;if(void 0===c&&1===g.nodeType)return g.innerHTML;
if("string"===typeof c&&!jb.test(c)&&!ba[(Na.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(Ka,"<$1></$2>");try{for(;a<b;a++)g=this[a]||{},1===g.nodeType&&(e.cleanData(I(g,!1)),g.innerHTML=c);g=0}catch(l){}}g&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=arguments[0];this.domManip(arguments,function(d){c=this.parentNode;e.cleanData(I(this));c&&c.replaceChild(d,this)});return c&&(c.length||c.nodeType)?this:this.remove()},detach:function(c){return this.remove(c,!0)},
domManip:function(c,d){c=U.apply([],c);var g,a,b,l,k=0,f=this.length,p=this,v=f-1,m=c[0],w=e.isFunction(m);if(w||1<f&&"string"===typeof m&&!M.checkClone&&kb.test(m))return this.each(function(a){var g=p.eq(a);w&&(c[0]=m.call(this,a,g.html()));g.domManip(c,d)});if(f&&(g=e.buildFragment(c,this[0].ownerDocument,!1,this),a=g.firstChild,1===g.childNodes.length&&(g=a),a)){a=e.map(I(g,"script"),z);for(b=a.length;k<f;k++)l=g,k!==v&&(l=e.clone(l,!0,!0),b&&e.merge(a,I(l,"script"))),d.call(this[k],l,k);if(b){g=
a[a.length-1].ownerDocument;e.map(a,L);for(k=0;k<b;k++)if(l=a[k],pb.test(l.type||"")&&!D.access(l,"globalEval")&&e.contains(g,l))l.src?e._evalUrl&&e._evalUrl(l.src):e.globalEval(l.textContent.replace(Hb,""))}}return this}});e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,d){e.fn[c]=function(c){for(var a=[],b=e(c),l=b.length-1,k=0;k<=l;k++)c=k===l?this:this.clone(!0),e(b[k])[d](c),R.apply(a,c.get());return this.pushStack(a)}});
var Oa,mb={},nb=/^margin/,db=RegExp("^("+Va+")(?!px)[a-z%]+$","i"),Pa=function(c){return c.ownerDocument.defaultView.getComputedStyle(c,null)};(function(){function c(){k.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";b.appendChild(l);var c=h.getComputedStyle(k,null);d="1%"!==c.top;a="4px"===c.width;b.removeChild(l)}var d,a,b=K.documentElement,l=K.createElement("div"),
k=K.createElement("div");k.style.backgroundClip="content-box";k.cloneNode(!0).style.backgroundClip="";M.clearCloneStyle="content-box"===k.style.backgroundClip;l.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";l.appendChild(k);h.getComputedStyle&&e.extend(M,{pixelPosition:function(){c();return d},boxSizingReliable:function(){null==a&&c();return a},reliableMarginRight:function(){var c;c=k.appendChild(K.createElement("div"));c.style.cssText=k.style.cssText=
"padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box";c.style.marginRight=c.style.width="0";k.style.width="1px";b.appendChild(l);c=!parseFloat(h.getComputedStyle(c,null).marginRight);b.removeChild(l);k.innerHTML="";return c}})})();e.swap=function(c,d,a,e){var b,l={};for(b in d)l[b]=c.style[b],c.style[b]=d[b];a=a.apply(c,e||[]);for(b in d)c.style[b]=l[b];return a};var Ib=/^(none|table(?!-c[ea]).+)/,Eb=RegExp("^("+Va+")(.*)$","i"),
Jb=RegExp("^([+-])=("+Va+")","i"),Kb={position:"absolute",visibility:"hidden",display:"block"},qb={letterSpacing:0,fontWeight:400},ob=["Webkit","O","Moz","ms"];e.extend({cssHooks:{opacity:{get:function(c,d){if(d){var a=J(c,"opacity");return""===a?"1":a}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,d,a,b){if(c&&!(3===c.nodeType||8===c.nodeType||!c.style)){var l,k,f,
p=e.camelCase(d),v=c.style;d=e.cssProps[p]||(e.cssProps[p]=G(v,p));f=e.cssHooks[d]||e.cssHooks[p];if(void 0!==a){k=typeof a;if("string"===k&&(l=Jb.exec(a)))a=(l[1]+1)*l[2]+parseFloat(e.css(c,d)),k="number";if(!(null==a||a!==a))if("number"===k&&!e.cssNumber[p]&&(a+="px"),!M.clearCloneStyle&&(""===a&&0===d.indexOf("background"))&&(v[d]="inherit"),!f||!("set"in f)||void 0!==(a=f.set(c,a,b)))v[d]="",v[d]=a}else return f&&"get"in f&&void 0!==(l=f.get(c,!1,b))?l:v[d]}},css:function(c,d,a,b){var l,k;k=e.camelCase(d);
d=e.cssProps[k]||(e.cssProps[k]=G(c.style,k));(k=e.cssHooks[d]||e.cssHooks[k])&&"get"in k&&(l=k.get(c,!0,a));void 0===l&&(l=J(c,d,b));"normal"===l&&d in qb&&(l=qb[d]);return""===a||a?(c=parseFloat(l),!0===a||e.isNumeric(c)?c||0:l):l}});e.each(["height","width"],function(c,d){e.cssHooks[d]={get:function(c,a,b){if(a)return 0===c.offsetWidth&&Ib.test(e.css(c,"display"))?e.swap(c,Kb,function(){return O(c,d,b)}):O(c,d,b)},set:function(c,a,b){var l=b&&Pa(c);return la(c,a,b?T(c,d,b,"border-box"===e.css(c,
"boxSizing",!1,l),l):0)}}});e.cssHooks.marginRight=n(M.reliableMarginRight,function(c,d){if(d)return e.swap(c,{display:"inline-block"},J,[c,"marginRight"])});e.each({margin:"",padding:"",border:"Width"},function(c,d){e.cssHooks[c+d]={expand:function(a){var e=0,b={};for(a="string"===typeof a?a.split(" "):[a];4>e;e++)b[c+na[e]+d]=a[e]||a[e-2]||a[0];return b}};nb.test(c)||(e.cssHooks[c+d].set=la)});e.fn.extend({css:function(c,d){return ma(this,function(c,d,a){var b,l={},k=0;if(e.isArray(d)){a=Pa(c);
for(b=d.length;k<b;k++)l[d[k]]=e.css(c,d[k],!1,a);return l}return void 0!==a?e.style(c,d,a):e.css(c,d)},c,d,1<arguments.length)},show:function(){return aa(this,!0)},hide:function(){return aa(this)},toggle:function(c){return"boolean"===typeof c?c?this.show():this.hide():this.each(function(){Ba(this)?e(this).show():e(this).hide()})}});e.Tween=X;X.prototype={constructor:X,init:function(c,d,a,b,l,k){this.elem=c;this.prop=a;this.easing=l||"swing";this.options=d;this.start=this.now=this.cur();this.end=
b;this.unit=k||(e.cssNumber[a]?"":"px")},cur:function(){var c=X.propHooks[this.prop];return c&&c.get?c.get(this):X.propHooks._default.get(this)},run:function(c){var d,a=X.propHooks[this.prop];this.pos=this.options.duration?d=e.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):d=c;this.now=(this.end-this.start)*d+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);a&&a.set?a.set(this):X.propHooks._default.set(this);return this}};X.prototype.init.prototype=
X.prototype;X.propHooks={_default:{get:function(c){if(null!=c.elem[c.prop]&&(!c.elem.style||null==c.elem.style[c.prop]))return c.elem[c.prop];c=e.css(c.elem,c.prop,"");return!c||"auto"===c?0:c},set:function(c){if(e.fx.step[c.prop])e.fx.step[c.prop](c);else c.elem.style&&(null!=c.elem.style[e.cssProps[c.prop]]||e.cssHooks[c.prop])?e.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}};X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=
c.now)}};e.easing={linear:function(c){return c},swing:function(c){return 0.5-Math.cos(c*Math.PI)/2}};e.fx=X.prototype.init;e.fx.step={};var va,Wa,Lb=/^(?:toggle|show|hide)$/,rb=RegExp("^(?:([+-])=|)("+Va+")([a-z%]*)$","i"),Mb=/queueHooks$/,Ra=[function(c,d,a){var b,l,k,f,p,v=this,m={},w=c.style,h=c.nodeType&&Ba(c),n=D.get(c,"fxshow");a.queue||(f=e._queueHooks(c,"fx"),null==f.unqueued&&(f.unqueued=0,p=f.empty.fire,f.empty.fire=function(){f.unqueued||p()}),f.unqueued++,v.always(function(){v.always(function(){f.unqueued--;
e.queue(c,"fx").length||f.empty.fire()})}));if(1===c.nodeType&&("height"in d||"width"in d))a.overflow=[w.overflow,w.overflowX,w.overflowY],l=e.css(c,"display"),"none"===l&&(l=F(c.nodeName)),"inline"===l&&"none"===e.css(c,"float")&&(w.display="inline-block");a.overflow&&(w.overflow="hidden",v.always(function(){w.overflow=a.overflow[0];w.overflowX=a.overflow[1];w.overflowY=a.overflow[2]}));for(b in d)if(l=d[b],Lb.exec(l)){delete d[b];k=k||"toggle"===l;if(l===(h?"hide":"show"))if("show"===l&&n&&void 0!==
n[b])h=!0;else continue;m[b]=n&&n[b]||e.style(c,b)}if(!e.isEmptyObject(m))for(b in n?"hidden"in n&&(h=n.hidden):n=D.access(c,"fxshow",{}),k&&(n.hidden=!h),h?e(c).show():v.done(function(){e(c).hide()}),v.done(function(){var d;D.remove(c,"fxshow");for(d in m)e.style(c,d,m[d])}),m)d=Y(h?n[b]:0,b,v),b in n||(n[b]=d.start,h&&(d.end=d.start,d.start="width"===b||"height"===b?1:0))}],Ca={"*":[function(c,d){var a=this.createTween(c,d),b=a.cur(),l=rb.exec(d),k=l&&l[3]||(e.cssNumber[c]?"":"px"),f=(e.cssNumber[c]||
"px"!==k&&+b)&&rb.exec(e.css(a.elem,c)),p=1,v=20;if(f&&f[3]!==k){k=k||f[3];l=l||[];f=+b||1;do p=p||".5",f/=p,e.style(a.elem,c,f+k);while(p!==(p=a.cur()/b)&&1!==p&&--v)}l&&(f=a.start=+f||+b||0,a.unit=k,a.end=l[1]?f+(l[1]+1)*l[2]:+l[2]);return a}]};e.Animation=e.extend(C,{tweener:function(c,d){e.isFunction(c)?(d=c,c=["*"]):c=c.split(" ");for(var a,b=0,l=c.length;b<l;b++)a=c[b],Ca[a]=Ca[a]||[],Ca[a].unshift(d)},prefilter:function(c,d){d?Ra.unshift(c):Ra.push(c)}});e.speed=function(c,d,a){var b=c&&"object"===
typeof c?e.extend({},c):{complete:a||!a&&d||e.isFunction(c)&&c,duration:c,easing:a&&d||d&&!e.isFunction(d)&&d};b.duration=e.fx.off?0:"number"===typeof b.duration?b.duration:b.duration in e.fx.speeds?e.fx.speeds[b.duration]:e.fx.speeds._default;if(null==b.queue||!0===b.queue)b.queue="fx";b.old=b.complete;b.complete=function(){e.isFunction(b.old)&&b.old.call(this);b.queue&&e.dequeue(this,b.queue)};return b};e.fn.extend({fadeTo:function(c,d,a,e){return this.filter(Ba).css("opacity",0).show().end().animate({opacity:d},
c,a,e)},animate:function(c,d,a,b){var l=e.isEmptyObject(c),k=e.speed(d,a,b);d=function(){var d=C(this,e.extend({},c),k);(l||D.get(this,"finish"))&&d.stop(!0)};d.finish=d;return l||!1===k.queue?this.each(d):this.queue(k.queue,d)},stop:function(c,d,a){var b=function(c){var d=c.stop;delete c.stop;d(a)};"string"!==typeof c&&(a=d,d=c,c=void 0);d&&!1!==c&&this.queue(c||"fx",[]);return this.each(function(){var d=!0,l=null!=c&&c+"queueHooks",k=e.timers,f=D.get(this);if(l)f[l]&&f[l].stop&&b(f[l]);else for(l in f)f[l]&&
(f[l].stop&&Mb.test(l))&&b(f[l]);for(l=k.length;l--;)if(k[l].elem===this&&(null==c||k[l].queue===c))k[l].anim.stop(a),d=!1,k.splice(l,1);(d||!a)&&e.dequeue(this,c)})},finish:function(c){!1!==c&&(c=c||"fx");return this.each(function(){var d,a=D.get(this),b=a[c+"queue"];d=a[c+"queueHooks"];var l=e.timers,k=b?b.length:0;a.finish=!0;e.queue(this,c,[]);d&&d.stop&&d.stop.call(this,!0);for(d=l.length;d--;)l[d].elem===this&&l[d].queue===c&&(l[d].anim.stop(!0),l.splice(d,1));for(d=0;d<k;d++)b[d]&&b[d].finish&&
b[d].finish.call(this);delete a.finish})}});e.each(["toggle","show","hide"],function(c,d){var a=e.fn[d];e.fn[d]=function(c,b,e){return null==c||"boolean"===typeof c?a.apply(this,arguments):this.animate(p(d,!0),c,b,e)}});e.each({slideDown:p("show"),slideUp:p("hide"),slideToggle:p("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,d){e.fn[c]=function(c,a,b){return this.animate(d,c,a,b)}});e.timers=[];e.fx.tick=function(){var c,d=0,a=e.timers;for(va=
e.now();d<a.length;d++)c=a[d],!c()&&a[d]===c&&a.splice(d--,1);a.length||e.fx.stop();va=void 0};e.fx.timer=function(c){e.timers.push(c);c()?e.fx.start():e.timers.pop()};e.fx.interval=13;e.fx.start=function(){Wa||(Wa=setInterval(e.fx.tick,e.fx.interval))};e.fx.stop=function(){clearInterval(Wa);Wa=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fn.delay=function(c,d){c=e.fx?e.fx.speeds[c]||c:c;return this.queue(d||"fx",function(d,a){var b=setTimeout(d,c);a.stop=function(){clearTimeout(b)}})};(function(){var c=
K.createElement("input"),d=K.createElement("select"),a=d.appendChild(K.createElement("option"));c.type="checkbox";M.checkOn=""!==c.value;M.optSelected=a.selected;d.disabled=!0;M.optDisabled=!a.disabled;c=K.createElement("input");c.value="t";c.type="radio";M.radioValue="t"===c.value})();var sb,Da=e.expr.attrHandle;e.fn.extend({attr:function(c,d){return ma(this,e.attr,c,d,1<arguments.length)},removeAttr:function(c){return this.each(function(){e.removeAttr(this,c)})}});e.extend({attr:function(c,d,a){var b,
l,k=c.nodeType;if(c&&!(3===k||8===k||2===k)){if("undefined"===typeof c.getAttribute)return e.prop(c,d,a);if(1!==k||!e.isXMLDoc(c))d=d.toLowerCase(),b=e.attrHooks[d]||(e.expr.match.bool.test(d)?sb:void 0);if(void 0!==a)if(null===a)e.removeAttr(c,d);else{if(b&&"set"in b&&void 0!==(l=b.set(c,a,d)))return l;c.setAttribute(d,a+"");return a}else{if(b&&"get"in b&&null!==(l=b.get(c,d)))return l;l=e.find.attr(c,d);return null==l?void 0:l}}},removeAttr:function(c,d){var a,b,l=0,k=d&&d.match(ha);if(k&&1===c.nodeType)for(;a=
k[l++];)b=e.propFix[a]||a,e.expr.match.bool.test(a)&&(c[b]=!1),c.removeAttribute(a)},attrHooks:{type:{set:function(c,a){if(!M.radioValue&&"radio"===a&&e.nodeName(c,"input")){var b=c.value;c.setAttribute("type",a);b&&(c.value=b);return a}}}}});sb={set:function(c,a,b){!1===a?e.removeAttr(c,b):c.setAttribute(b,b);return b}};e.each(e.expr.match.bool.source.match(/\w+/g),function(c,a){var b=Da[a]||e.find.attr;Da[a]=function(c,a,d){var e,l;d||(l=Da[a],Da[a]=e,e=null!=b(c,a,d)?a.toLowerCase():null,Da[a]=
l);return e}});var Nb=/^(?:input|select|textarea|button)$/i;e.fn.extend({prop:function(c,a){return ma(this,e.prop,c,a,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[e.propFix[c]||c]})}});e.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(c,a,b){var l,k,f;f=c.nodeType;if(c&&!(3===f||8===f||2===f)){if(f=1!==f||!e.isXMLDoc(c))a=e.propFix[a]||a,k=e.propHooks[a];return void 0!==b?k&&"set"in k&&void 0!==(l=k.set(c,b,a))?l:c[a]=b:k&&"get"in k&&null!==
(l=k.get(c,a))?l:c[a]}},propHooks:{tabIndex:{get:function(c){return c.hasAttribute("tabindex")||Nb.test(c.nodeName)||c.href?c.tabIndex:-1}}}});M.optSelected||(e.propHooks.selected={get:function(c){(c=c.parentNode)&&c.parentNode&&c.parentNode.selectedIndex;return null}});e.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){e.propFix[this.toLowerCase()]=this});var fb=/[\t\r\n\f]/g;e.fn.extend({addClass:function(c){var a,
b,l,k,f;a="string"===typeof c&&c;var p=0,v=this.length;if(e.isFunction(c))return this.each(function(a){e(this).addClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(ha)||[];p<v;p++)if(b=this[p],l=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(fb," "):" ")){for(f=0;k=a[f++];)0>l.indexOf(" "+k+" ")&&(l+=k+" ");l=e.trim(l);b.className!==l&&(b.className=l)}return this},removeClass:function(c){var a,b,l,k,f;a=0===arguments.length||"string"===typeof c&&c;var p=0,v=this.length;if(e.isFunction(c))return this.each(function(a){e(this).removeClass(c.call(this,
a,this.className))});if(a)for(a=(c||"").match(ha)||[];p<v;p++)if(b=this[p],l=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(fb," "):"")){for(f=0;k=a[f++];)for(;0<=l.indexOf(" "+k+" ");)l=l.replace(" "+k+" "," ");l=c?e.trim(l):"";b.className!==l&&(b.className=l)}return this},toggleClass:function(c,a){var b=typeof c;return"boolean"===typeof a&&"string"===b?a?this.addClass(c):this.removeClass(c):e.isFunction(c)?this.each(function(b){e(this).toggleClass(c.call(this,b,this.className,a),a)}):
this.each(function(){if("string"===b)for(var a,d=0,l=e(this),k=c.match(ha)||[];a=k[d++];)l.hasClass(a)?l.removeClass(a):l.addClass(a);else if("undefined"===b||"boolean"===b)this.className&&D.set(this,"__className__",this.className),this.className=this.className||!1===c?"":D.get(this,"__className__")||""})},hasClass:function(c){c=" "+c+" ";for(var a=0,b=this.length;a<b;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(fb," ").indexOf(c))return!0;return!1}});var Ob=/\r/g;e.fn.extend({val:function(c){var a,
b,l,k=this[0];if(arguments.length)return l=e.isFunction(c),this.each(function(b){if(1===this.nodeType&&(b=l?c.call(this,b,e(this).val()):c,null==b?b="":"number"===typeof b?b+="":e.isArray(b)&&(b=e.map(b,function(c){return null==c?"":c+""})),a=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],!a||!("set"in a)||void 0===a.set(this,b,"value")))this.value=b});if(k){if((a=e.valHooks[k.type]||e.valHooks[k.nodeName.toLowerCase()])&&"get"in a&&void 0!==(b=a.get(k,"value")))return b;b=k.value;
return"string"===typeof b?b.replace(Ob,""):null==b?"":b}}});e.extend({valHooks:{select:{get:function(c){for(var a,b=c.options,l=c.selectedIndex,k=(c="select-one"===c.type||0>l)?null:[],f=c?l+1:b.length,p=0>l?f:c?l:0;p<f;p++)if(a=b[p],(a.selected||p===l)&&(M.optDisabled?!a.disabled:null===a.getAttribute("disabled"))&&(!a.parentNode.disabled||!e.nodeName(a.parentNode,"optgroup"))){a=e(a).val();if(c)return a;k.push(a)}return k},set:function(c,a){for(var b,l,k=c.options,f=e.makeArray(a),p=k.length;p--;)if(l=
k[p],l.selected=0<=e.inArray(e(l).val(),f))b=!0;b||(c.selectedIndex=-1);return f}}}});e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(c,a){if(e.isArray(a))return c.checked=0<=e.inArray(e(c).val(),a)}};M.checkOn||(e.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(c,a){e.fn[a]=function(c,b){return 0<arguments.length?this.on(a,null,c,b):this.trigger(a)}});e.fn.extend({hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)},bind:function(c,a,b){return this.on(c,null,a,b)},unbind:function(c,a){return this.off(c,null,a)},delegate:function(c,a,b,e){return this.on(a,c,b,e)},undelegate:function(c,a,b){return 1===arguments.length?this.off(c,"**"):this.off(a,c||"**",b)}});var gb=e.now(),hb=/\?/;e.parseJSON=function(c){return JSON.parse(c+"")};e.parseXML=
function(c){var a,b;if(!c||"string"!==typeof c)return null;try{b=new DOMParser,a=b.parseFromString(c,"text/xml")}catch(l){a=void 0}(!a||a.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return a};var ja,fa,Pb=/#.*$/,tb=/([?&])_=[^&]*/,Qb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Rb=/^(?:GET|HEAD)$/,Sb=/^\/\//,ub=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vb={},eb={},wb="*/".concat("*");try{fa=location.href}catch($b){fa=K.createElement("a"),fa.href="",fa=fa.href}ja=ub.exec(fa.toLowerCase())||
[];e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ja[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?l(l(c,e.ajaxSettings),a):l(e.ajaxSettings,c)},ajaxPrefilter:oa(vb),ajaxTransport:oa(eb),ajax:function(c,a){function b(c,a,d,g){var p,m,h,y;y=a;if(2!==Z){Z=2;v&&clearTimeout(v);l=void 0;f=g||"";x.readyState=0<c?4:0;g=200<=c&&300>c||304===c;if(d){h=n;for(var C=x,U,R,S,r,G=h.contents,V=h.dataTypes;"*"===V[0];)V.shift(),void 0===U&&(U=h.mimeType||C.getResponseHeader("Content-Type"));
if(U)for(R in G)if(G[R]&&G[R].test(U)){V.unshift(R);break}if(V[0]in d)S=V[0];else{for(R in d){if(!V[0]||h.converters[R+" "+V[0]]){S=R;break}r||(r=R)}S=S||r}S?(S!==V[0]&&V.unshift(S),h=d[S]):h=void 0}a:{d=n;U=h;R=x;S=g;var N,u,W,C={},G=d.dataTypes.slice();if(G[1])for(u in d.converters)C[u.toLowerCase()]=d.converters[u];for(r=G.shift();r;)if(d.responseFields[r]&&(R[d.responseFields[r]]=U),!W&&(S&&d.dataFilter)&&(U=d.dataFilter(U,d.dataType)),W=r,r=G.shift())if("*"===r)r=W;else if("*"!==W&&W!==r){u=
C[W+" "+r]||C["* "+r];if(!u)for(N in C)if(h=N.split(" "),h[1]===r&&(u=C[W+" "+h[0]]||C["* "+h[0]])){!0===u?u=C[N]:!0!==C[N]&&(r=h[0],G.unshift(h[1]));break}if(!0!==u)if(u&&d["throws"])U=u(U);else try{U=u(U)}catch(z){h={state:"parsererror",error:u?z:"No conversion from "+W+" to "+r};break a}}h={state:"success",data:U}}if(g)n.ifModified&&((y=x.getResponseHeader("Last-Modified"))&&(e.lastModified[k]=y),(y=x.getResponseHeader("etag"))&&(e.etag[k]=y)),204===c||"HEAD"===n.type?y="nocontent":304===c?y="notmodified":
(y=h.state,p=h.data,m=h.error,g=!m);else if(m=y,c||!y)y="error",0>c&&(c=0);x.status=c;x.statusText=(a||y)+"";g?Y.resolveWith(q,[p,y,x]):Y.rejectWith(q,[x,y,m]);x.statusCode(da);da=void 0;w&&s.trigger(g?"ajaxSuccess":"ajaxError",[x,n,g?p:m]);t.fireWith(q,[x,y]);w&&(s.trigger("ajaxComplete",[x,n]),--e.active||e.event.trigger("ajaxStop"))}}"object"===typeof c&&(a=c,c=void 0);a=a||{};var l,k,f,p,v,m,w,h,n=e.ajaxSetup({},a),q=n.context||n,s=n.context&&(q.nodeType||q.jquery)?e(q):e.event,Y=e.Deferred(),
t=e.Callbacks("once memory"),da=n.statusCode||{},y={},C={},Z=0,U="canceled",x={readyState:0,getResponseHeader:function(c){var a;if(2===Z){if(!p)for(p={};a=Qb.exec(f);)p[a[1].toLowerCase()]=a[2];a=p[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===Z?f:null},setRequestHeader:function(c,a){var d=c.toLowerCase();Z||(c=C[d]=C[d]||c,y[c]=a);return this},overrideMimeType:function(c){Z||(n.mimeType=c);return this},statusCode:function(c){var a;if(c)if(2>Z)for(a in c)da[a]=
[da[a],c[a]];else x.always(c[x.status]);return this},abort:function(c){c=c||U;l&&l.abort(c);b(0,c);return this}};Y.promise(x).complete=t.add;x.success=x.done;x.error=x.fail;n.url=((c||n.url||fa)+"").replace(Pb,"").replace(Sb,ja[1]+"//");n.type=a.method||a.type||n.method||n.type;n.dataTypes=e.trim(n.dataType||"*").toLowerCase().match(ha)||[""];null==n.crossDomain&&(m=ub.exec(n.url.toLowerCase()),n.crossDomain=!(!m||!(m[1]!==ja[1]||m[2]!==ja[2]||(m[3]||("http:"===m[1]?"80":"443"))!==(ja[3]||("http:"===
ja[1]?"80":"443")))));n.data&&(n.processData&&"string"!==typeof n.data)&&(n.data=e.param(n.data,n.traditional));ta(vb,n,a,x);if(2===Z)return x;(w=n.global)&&0===e.active++&&e.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!Rb.test(n.type);k=n.url;n.hasContent||(n.data&&(k=n.url+=(hb.test(k)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=tb.test(k)?k.replace(tb,"$1_="+gb++):k+(hb.test(k)?"&":"?")+"_="+gb++));n.ifModified&&(e.lastModified[k]&&x.setRequestHeader("If-Modified-Since",
e.lastModified[k]),e.etag[k]&&x.setRequestHeader("If-None-Match",e.etag[k]));(n.data&&n.hasContent&&!1!==n.contentType||a.contentType)&&x.setRequestHeader("Content-Type",n.contentType);x.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+wb+"; q=0.01":""):n.accepts["*"]);for(h in n.headers)x.setRequestHeader(h,n.headers[h]);if(n.beforeSend&&(!1===n.beforeSend.call(q,x,n)||2===Z))return x.abort();U="abort";for(h in{success:1,error:1,
complete:1})x[h](n[h]);if(l=ta(eb,n,a,x)){x.readyState=1;w&&s.trigger("ajaxSend",[x,n]);n.async&&0<n.timeout&&(v=setTimeout(function(){x.abort("timeout")},n.timeout));try{Z=1,l.send(y,b)}catch(R){if(2>Z)b(-1,R);else throw R;}}else b(-1,"No Transport");return x},getJSON:function(c,a,b){return e.get(c,a,b,"json")},getScript:function(c,a){return e.get(c,void 0,a,"script")}});e.each(["get","post"],function(c,a){e[a]=function(c,b,l,k){e.isFunction(b)&&(k=k||l,l=b,b=void 0);return e.ajax({url:c,type:a,
dataType:k,data:b,success:l})}});e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){e.fn[a]=function(c){return this.on(a,c)}});e._evalUrl=function(c){return e.ajax({url:c,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};e.fn.extend({wrapAll:function(c){var a;if(e.isFunction(c))return this.each(function(a){e(this).wrapAll(c.call(this,a))});this[0]&&(a=e(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var c=
this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this));return this},wrapInner:function(c){return e.isFunction(c)?this.each(function(a){e(this).wrapInner(c.call(this,a))}):this.each(function(){var a=e(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=e.isFunction(c);return this.each(function(b){e(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||e(this).replaceWith(this.childNodes)}).end()}});
e.expr.filters.hidden=function(c){return 0>=c.offsetWidth&&0>=c.offsetHeight};e.expr.filters.visible=function(c){return!e.expr.filters.hidden(c)};var Tb=/%20/g,Fb=/\[\]$/,xb=/\r?\n/g,Ub=/^(?:submit|button|image|reset|file)$/i,Vb=/^(?:input|select|textarea|keygen)/i;e.param=function(c,a){var b,l=[],k=function(c,a){a=e.isFunction(a)?a():null==a?"":a;l[l.length]=encodeURIComponent(c)+"="+encodeURIComponent(a)};void 0===a&&(a=e.ajaxSettings&&e.ajaxSettings.traditional);if(e.isArray(c)||c.jquery&&!e.isPlainObject(c))e.each(c,
function(){k(this.name,this.value)});else for(b in c)v(b,c[b],a,k);return l.join("&").replace(Tb,"+")};e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=e.prop(this,"elements");return c?e.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!e(this).is(":disabled")&&Vb.test(this.nodeName)&&!Ub.test(c)&&(this.checked||!Ga.test(c))}).map(function(c,a){var b=e(this).val();return null==b?null:e.isArray(b)?
e.map(b,function(c){return{name:a.name,value:c.replace(xb,"\r\n")}}):{name:a.name,value:b.replace(xb,"\r\n")}}).get()}});e.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(c){}};var Wb=0,Xa={},Xb={0:200,1223:204},Ea=e.ajaxSettings.xhr();if(h.ActiveXObject)e(h).on("unload",function(){for(var c in Xa)Xa[c]()});M.cors=!!Ea&&"withCredentials"in Ea;M.ajax=Ea=!!Ea;e.ajaxTransport(function(c){var a;if(M.cors||Ea&&!c.crossDomain)return{send:function(b,e){var l,k=c.xhr(),f=++Wb;k.open(c.type,
c.url,c.async,c.username,c.password);if(c.xhrFields)for(l in c.xhrFields)k[l]=c.xhrFields[l];c.mimeType&&k.overrideMimeType&&k.overrideMimeType(c.mimeType);!c.crossDomain&&!b["X-Requested-With"]&&(b["X-Requested-With"]="XMLHttpRequest");for(l in b)k.setRequestHeader(l,b[l]);a=function(c){return function(){a&&(delete Xa[f],a=k.onload=k.onerror=null,"abort"===c?k.abort():"error"===c?e(k.status,k.statusText):e(Xb[k.status]||k.status,k.statusText,"string"===typeof k.responseText?{text:k.responseText}:
void 0,k.getAllResponseHeaders()))}};k.onload=a();k.onerror=a("error");a=Xa[f]=a("abort");k.send(c.hasContent&&c.data||null)},abort:function(){a&&a()}}});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(c){e.globalEval(c);return c}}});e.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});e.ajaxTransport("script",
function(c){if(c.crossDomain){var a,b;return{send:function(l,k){a=e("<script>").prop({async:!0,charset:c.scriptCharset,src:c.url}).on("load error",b=function(c){a.remove();b=null;c&&k("error"===c.type?404:200,c.type)});K.head.appendChild(a[0])},abort:function(){b&&b()}}}});var yb=[],ib=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=yb.pop()||e.expando+"_"+gb++;this[c]=!0;return c}});e.ajaxPrefilter("json jsonp",function(c,a,b){var l,k,f,p=!1!==c.jsonp&&(ib.test(c.url)?
"url":"string"===typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&ib.test(c.data)&&"data");if(p||"jsonp"===c.dataTypes[0])return l=c.jsonpCallback=e.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,p?c[p]=c[p].replace(ib,"$1"+l):!1!==c.jsonp&&(c.url+=(hb.test(c.url)?"&":"?")+c.jsonp+"="+l),c.converters["script json"]=function(){f||e.error(l+" was not called");return f[0]},c.dataTypes[0]="json",k=h[l],h[l]=function(){f=arguments},b.always(function(){h[l]=
k;c[l]&&(c.jsonpCallback=a.jsonpCallback,yb.push(l));f&&e.isFunction(k)&&k(f[0]);f=k=void 0}),"script"});e.parseHTML=function(c,a,b){if(!c||"string"!==typeof c)return null;"boolean"===typeof a&&(b=a,a=!1);a=a||K;var l=ua.exec(c);b=!b&&[];if(l)return[a.createElement(l[1])];l=e.buildFragment([c],a,b);b&&b.length&&e(b).remove();return e.merge([],l.childNodes)};var zb=e.fn.load;e.fn.load=function(c,a,b){if("string"!==typeof c&&zb)return zb.apply(this,arguments);var l,k,f,p=this,v=c.indexOf(" ");0<=v&&
(l=c.slice(v),c=c.slice(0,v));e.isFunction(a)?(b=a,a=void 0):a&&"object"===typeof a&&(k="POST");0<p.length&&e.ajax({url:c,type:k,dataType:"html",data:a}).done(function(c){f=arguments;p.html(l?e("<div>").append(e.parseHTML(c)).find(l):c)}).complete(b&&function(c,a){p.each(b,f||[c.responseText,a,c])});return this};e.expr.filters.animated=function(c){return e.grep(e.timers,function(a){return c===a.elem}).length};var Ab=h.document.documentElement;e.offset={setOffset:function(c,a,b){var l,k,f,p=e.css(c,
"position"),v=e(c),m={};"static"===p&&(c.style.position="relative");f=v.offset();k=e.css(c,"top");l=e.css(c,"left");("absolute"===p||"fixed"===p)&&-1<(k+l).indexOf("auto")?(l=v.position(),k=l.top,l=l.left):(k=parseFloat(k)||0,l=parseFloat(l)||0);e.isFunction(a)&&(a=a.call(c,b,f));null!=a.top&&(m.top=a.top-f.top+k);null!=a.left&&(m.left=a.left-f.left+l);"using"in a?a.using.call(c,m):v.css(m)}};e.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(a){e.offset.setOffset(this,
c,a)});var a,b;b=this[0];var l={top:0,left:0},k=b&&b.ownerDocument;if(k){a=k.documentElement;if(!e.contains(a,b))return l;"undefined"!==typeof b.getBoundingClientRect&&(l=b.getBoundingClientRect());b=e.isWindow(k)?k:9===k.nodeType&&k.defaultView;return{top:l.top+b.pageYOffset-a.clientTop,left:l.left+b.pageXOffset-a.clientLeft}}},position:function(){if(this[0]){var c,a,b=this[0],l={top:0,left:0};"fixed"===e.css(b,"position")?a=b.getBoundingClientRect():(c=this.offsetParent(),a=this.offset(),e.nodeName(c[0],
"html")||(l=c.offset()),l.top+=e.css(c[0],"borderTopWidth",!0),l.left+=e.css(c[0],"borderLeftWidth",!0));return{top:a.top-l.top-e.css(b,"marginTop",!0),left:a.left-l.left-e.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||Ab;c&&!e.nodeName(c,"html")&&"static"===e.css(c,"position");)c=c.offsetParent;return c||Ab})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,a){var b="pageYOffset"===a;e.fn[c]=function(l){return ma(this,
function(c,l,k){var f=e.isWindow(c)?c:9===c.nodeType&&c.defaultView;if(void 0===k)return f?f[a]:c[l];f?f.scrollTo(!b?k:h.pageXOffset,b?k:h.pageYOffset):c[l]=k},c,l,arguments.length,null)}});e.each(["top","left"],function(c,a){e.cssHooks[a]=n(M.pixelPosition,function(c,b){if(b)return b=J(c,a),db.test(b)?e(c).position()[a]+"px":b})});e.each({Height:"height",Width:"width"},function(c,a){e.each({padding:"inner"+c,content:a,"":"outer"+c},function(b,l){e.fn[l]=function(l,k){var f=arguments.length&&(b||
"boolean"!==typeof l),p=b||(!0===l||!0===k?"margin":"border");return ma(this,function(a,b,d){return e.isWindow(a)?a.document.documentElement["client"+c]:9===a.nodeType?(b=a.documentElement,Math.max(a.body["scroll"+c],b["scroll"+c],a.body["offset"+c],b["offset"+c],b["client"+c])):void 0===d?e.css(a,b,p):e.style(a,b,d,p)},a,f?l:void 0,f,null)}})});e.fn.size=function(){return this.length};e.fn.andSelf=e.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return e});var Yb=
h.jQuery,Zb=h.$;e.noConflict=function(c){h.$===e&&(h.$=Zb);c&&h.jQuery===e&&(h.jQuery=Yb);return e};"undefined"===typeof b&&(h.jQuery=h.$=e);return e});jQuery.cookie=function(h,b,a){if("undefined"!=typeof b){a=a||{};null===b&&(b="",a.expires=-1);var f="";if(a.expires&&("number"==typeof a.expires||a.expires.toUTCString))"number"==typeof a.expires?(f=new Date,f.setTime(f.getTime()+864E5*a.expires)):f=a.expires,f="; expires="+f.toUTCString();var m=a.path?"; path="+a.path:"",t=a.domain?"; domain="+a.domain:
"";a=a.secure?"; secure":"";document.cookie=[h,"=",encodeURIComponent(b),f,m,t,a].join("")}else{b=null;if(document.cookie&&""!=document.cookie){a=document.cookie.split(";");for(f=0;f<a.length;f++)if(m=jQuery.trim(a[f]),m.substring(0,h.length+1)==h+"="){b=decodeURIComponent(m.substring(h.length+1));break}}return b}};(function(){var h=this,b=h._,a={},f=Array.prototype,m=Object.prototype,t=f.push,q=f.slice,s=f.concat,x=m.toString,r=m.hasOwnProperty,y=f.forEach,N=f.map,u=f.reduce,z=f.reduceRight,L=f.filter,
ea=f.every,B=f.some,I=f.indexOf,E=f.lastIndexOf,m=Array.isArray,J=Object.keys,F=Function.prototype.bind,n=function(a){if(a instanceof n)return a;if(!(this instanceof n))return new n(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=n),exports._=n):h._=n;n.VERSION="1.5.1";var G=n.each=n.forEach=function(b,k,f){if(null!=b)if(y&&b.forEach===y)b.forEach(k,f);else if(b.length===+b.length)for(var p=0,m=b.length;p<m&&k.call(f,b[p],p,b)!==
a;p++);else for(p in b)if(n.has(b,p)&&k.call(f,b[p],p,b)===a)break};n.map=n.collect=function(a,b,k){var f=[];if(null==a)return f;if(N&&a.map===N)return a.map(b,k);G(a,function(a,l,p){f.push(b.call(k,a,l,p))});return f};n.reduce=n.foldl=n.inject=function(a,b,k,f){var p=2<arguments.length;null==a&&(a=[]);if(u&&a.reduce===u)return f&&(b=n.bind(b,f)),p?a.reduce(b,k):a.reduce(b);G(a,function(a,l,m){p?k=b.call(f,k,a,l,m):(k=a,p=!0)});if(!p)throw new TypeError("Reduce of empty array with no initial value");
return k};n.reduceRight=n.foldr=function(a,b,k,f){var p=2<arguments.length;null==a&&(a=[]);if(z&&a.reduceRight===z)return f&&(b=n.bind(b,f)),p?a.reduceRight(b,k):a.reduceRight(b);var m=a.length;if(m!==+m)var h=n.keys(a),m=h.length;G(a,function(n,q,s){q=h?h[--m]:--m;p?k=b.call(f,k,a[q],q,s):(k=a[q],p=!0)});if(!p)throw new TypeError("Reduce of empty array with no initial value");return k};n.find=n.detect=function(a,b,k){var f;la(a,function(a,l,p){if(b.call(k,a,l,p))return f=a,!0});return f};n.filter=
n.select=function(a,b,k){var f=[];if(null==a)return f;if(L&&a.filter===L)return a.filter(b,k);G(a,function(a,l,p){b.call(k,a,l,p)&&f.push(a)});return f};n.reject=function(a,b,k){return n.filter(a,function(a,l,f){return!b.call(k,a,l,f)},k)};n.every=n.all=function(b,k,f){k||(k=n.identity);var p=!0;if(null==b)return p;if(ea&&b.every===ea)return b.every(k,f);G(b,function(b,l,m){if(!(p=p&&k.call(f,b,l,m)))return a});return!!p};var la=n.some=n.any=function(b,k,f){k||(k=n.identity);var p=!1;if(null==b)return p;
if(B&&b.some===B)return b.some(k,f);G(b,function(b,l,m){if(p||(p=k.call(f,b,l,m)))return a});return!!p};n.contains=n.include=function(a,b){return null==a?!1:I&&a.indexOf===I?-1!=a.indexOf(b):la(a,function(a){return a===b})};n.invoke=function(a,b){var k=q.call(arguments,2),f=n.isFunction(b);return n.map(a,function(a){return(f?b:a[b]).apply(a,k)})};n.pluck=function(a,b){return n.map(a,function(a){return a[b]})};n.where=function(a,b,k){return n.isEmpty(b)?k?void 0:[]:n[k?"find":"filter"](a,function(a){for(var l in b)if(b[l]!==
a[l])return!1;return!0})};n.findWhere=function(a,b){return n.where(a,b,!0)};n.max=function(a,b,k){if(!b&&n.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&n.isEmpty(a))return-Infinity;var f={computed:-Infinity,value:-Infinity};G(a,function(a,l,p){l=b?b.call(k,a,l,p):a;l>f.computed&&(f={value:a,computed:l})});return f.value};n.min=function(a,b,k){if(!b&&n.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&n.isEmpty(a))return Infinity;var f={computed:Infinity,
value:Infinity};G(a,function(a,l,p){l=b?b.call(k,a,l,p):a;l<f.computed&&(f={value:a,computed:l})});return f.value};n.shuffle=function(a){var b,k=0,f=[];G(a,function(a){b=n.random(k++);f[k-1]=f[b];f[b]=a});return f};var O=function(a){return n.isFunction(a)?a:function(b){return b[a]}};n.sortBy=function(a,b,k){var f=O(b);return n.pluck(n.map(a,function(a,b,l){return{value:a,index:b,criteria:f.call(k,a,b,l)}}).sort(function(a,b){var l=a.criteria,k=b.criteria;if(l!==k){if(l>k||void 0===l)return 1;if(l<
k||void 0===k)return-1}return a.index<b.index?-1:1}),"value")};var T=function(a,b,k,f){var p={},m=O(null==b?n.identity:b);G(a,function(b,h){var n=m.call(k,b,h,a);f(p,n,b)});return p};n.groupBy=function(a,b,k){return T(a,b,k,function(a,b,l){(n.has(a,b)?a[b]:a[b]=[]).push(l)})};n.countBy=function(a,b,k){return T(a,b,k,function(a,b){n.has(a,b)||(a[b]=0);a[b]++})};n.sortedIndex=function(a,b,k,f){k=null==k?n.identity:O(k);b=k.call(f,b);for(var p=0,m=a.length;p<m;){var h=p+m>>>1;k.call(f,a[h])<b?p=h+1:
m=h}return p};n.toArray=function(a){return!a?[]:n.isArray(a)?q.call(a):a.length===+a.length?n.map(a,n.identity):n.values(a)};n.size=function(a){return null==a?0:a.length===+a.length?a.length:n.keys(a).length};n.first=n.head=n.take=function(a,b,k){return null==a?void 0:null!=b&&!k?q.call(a,0,b):a[0]};n.initial=function(a,b,k){return q.call(a,0,a.length-(null==b||k?1:b))};n.last=function(a,b,k){return null==a?void 0:null!=b&&!k?q.call(a,Math.max(a.length-b,0)):a[a.length-1]};n.rest=n.tail=n.drop=function(a,
b,k){return q.call(a,null==b||k?1:b)};n.compact=function(a){return n.filter(a,n.identity)};var aa=function(a,b,k){if(b&&n.every(a,n.isArray))return s.apply(k,a);G(a,function(a){n.isArray(a)||n.isArguments(a)?b?t.apply(k,a):aa(a,b,k):k.push(a)});return k};n.flatten=function(a,b){return aa(a,b,[])};n.without=function(a){return n.difference(a,q.call(arguments,1))};n.uniq=n.unique=function(a,b,k,f){n.isFunction(b)&&(f=k,k=b,b=!1);k=k?n.map(a,k,f):a;var p=[],m=[];G(k,function(k,f){if(b?!f||m[m.length-
1]!==k:!n.contains(m,k))m.push(k),p.push(a[f])});return p};n.union=function(){return n.uniq(n.flatten(arguments,!0))};n.intersection=function(a){var b=q.call(arguments,1);return n.filter(n.uniq(a),function(a){return n.every(b,function(b){return 0<=n.indexOf(b,a)})})};n.difference=function(a){var b=s.apply(f,q.call(arguments,1));return n.filter(a,function(a){return!n.contains(b,a)})};n.zip=function(){for(var a=n.max(n.pluck(arguments,"length").concat(0)),b=Array(a),k=0;k<a;k++)b[k]=n.pluck(arguments,
""+k);return b};n.object=function(a,b){if(null==a)return{};for(var k={},f=0,p=a.length;f<p;f++)b?k[a[f]]=b[f]:k[a[f][0]]=a[f][1];return k};n.indexOf=function(a,b,k){if(null==a)return-1;var f=0,p=a.length;if(k)if("number"==typeof k)f=0>k?Math.max(0,p+k):k;else return f=n.sortedIndex(a,b),a[f]===b?f:-1;if(I&&a.indexOf===I)return a.indexOf(b,k);for(;f<p;f++)if(a[f]===b)return f;return-1};n.lastIndexOf=function(a,b,k){if(null==a)return-1;var f=null!=k;if(E&&a.lastIndexOf===E)return f?a.lastIndexOf(b,
k):a.lastIndexOf(b);for(k=f?k:a.length;k--;)if(a[k]===b)return k;return-1};n.range=function(a,b,k){1>=arguments.length&&(b=a||0,a=0);k=arguments[2]||1;for(var f=Math.max(Math.ceil((b-a)/k),0),p=0,m=Array(f);p<f;)m[p++]=a,a+=k;return m};var X=function(){};n.bind=function(a,b){var k,f;if(F&&a.bind===F)return F.apply(a,q.call(arguments,1));if(!n.isFunction(a))throw new TypeError;k=q.call(arguments,2);return f=function(){if(!(this instanceof f))return a.apply(b,k.concat(q.call(arguments)));X.prototype=
a.prototype;var p=new X;X.prototype=null;var m=a.apply(p,k.concat(q.call(arguments)));return Object(m)===m?m:p}};n.partial=function(a){var b=q.call(arguments,1);return function(){return a.apply(this,b.concat(q.call(arguments)))}};n.bindAll=function(a){var b=q.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");G(b,function(b){a[b]=n.bind(a[b],a)});return a};n.memoize=function(a,b){var k={};b||(b=n.identity);return function(){var f=b.apply(this,arguments);return n.has(k,
f)?k[f]:k[f]=a.apply(this,arguments)}};n.delay=function(a,b){var k=q.call(arguments,2);return setTimeout(function(){return a.apply(null,k)},b)};n.defer=function(a){return n.delay.apply(n,[a,1].concat(q.call(arguments,1)))};n.throttle=function(a,b,k){var f,p,m,h=null,n=0;k||(k={});var q=function(){n=!1===k.leading?0:new Date;h=null;m=a.apply(f,p)};return function(){var s=new Date;!n&&!1===k.leading&&(n=s);var Y=b-(s-n);f=this;p=arguments;0>=Y?(clearTimeout(h),h=null,n=s,m=a.apply(f,p)):!h&&!1!==k.trailing&&
(h=setTimeout(q,Y));return m}};n.debounce=function(a,b,k){var f,p=null;return function(){var m=this,h=arguments,n=k&&!p;clearTimeout(p);p=setTimeout(function(){p=null;k||(f=a.apply(m,h))},b);n&&(f=a.apply(m,h));return f}};n.once=function(a){var b=!1,k;return function(){if(b)return k;b=!0;k=a.apply(this,arguments);a=null;return k}};n.wrap=function(a,b){return function(){var k=[a];t.apply(k,arguments);return b.apply(this,k)}};n.compose=function(){var a=arguments;return function(){for(var b=arguments,
k=a.length-1;0<=k;k--)b=[a[k].apply(this,b)];return b[0]}};n.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};n.keys=J||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],k;for(k in a)n.has(a,k)&&b.push(k);return b};n.values=function(a){var b=[],k;for(k in a)n.has(a,k)&&b.push(a[k]);return b};n.pairs=function(a){var b=[],k;for(k in a)n.has(a,k)&&b.push([k,a[k]]);return b};n.invert=function(a){var b={},k;for(k in a)n.has(a,k)&&(b[a[k]]=k);return b};
n.functions=n.methods=function(a){var b=[],k;for(k in a)n.isFunction(a[k])&&b.push(k);return b.sort()};n.extend=function(a){G(q.call(arguments,1),function(b){if(b)for(var k in b)a[k]=b[k]});return a};n.pick=function(a){var b={},k=s.apply(f,q.call(arguments,1));G(k,function(k){k in a&&(b[k]=a[k])});return b};n.omit=function(a){var b={},k=s.apply(f,q.call(arguments,1)),p;for(p in a)n.contains(k,p)||(b[p]=a[p]);return b};n.defaults=function(a){G(q.call(arguments,1),function(b){if(b)for(var k in b)void 0===
a[k]&&(a[k]=b[k])});return a};n.clone=function(a){return!n.isObject(a)?a:n.isArray(a)?a.slice():n.extend({},a)};n.tap=function(a,b){b(a);return a};var k=function(a,b,f,p){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof n&&(a=a._wrapped);b instanceof n&&(b=b._wrapped);var m=x.call(a);if(m!=x.call(b))return!1;switch(m){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==
+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var h=f.length;h--;)if(f[h]==a)return p[h]==b;var h=a.constructor,q=b.constructor;if(h!==q&&(!n.isFunction(h)||!(h instanceof h&&n.isFunction(q)&&q instanceof q)))return!1;f.push(a);p.push(b);h=0;q=!0;if("[object Array]"==m){if(h=a.length,q=h==b.length)for(;h--&&(q=k(a[h],b[h],f,p)););}else{for(var s in a)if(n.has(a,s)&&
(h++,!(q=n.has(b,s)&&k(a[s],b[s],f,p))))break;if(q){for(s in b)if(n.has(b,s)&&!h--)break;q=!h}}f.pop();p.pop();return q};n.isEqual=function(a,b){return k(a,b,[],[])};n.isEmpty=function(a){if(null==a)return!0;if(n.isArray(a)||n.isString(a))return 0===a.length;for(var b in a)if(n.has(a,b))return!1;return!0};n.isElement=function(a){return!!(a&&1===a.nodeType)};n.isArray=m||function(a){return"[object Array]"==x.call(a)};n.isObject=function(a){return a===Object(a)};G("Arguments Function String Number Date RegExp".split(" "),
function(a){n["is"+a]=function(b){return x.call(b)=="[object "+a+"]"}});n.isArguments(arguments)||(n.isArguments=function(a){return!(!a||!n.has(a,"callee"))});"function"!==typeof/./&&(n.isFunction=function(a){return"function"===typeof a});n.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};n.isNaN=function(a){return n.isNumber(a)&&a!=+a};n.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==x.call(a)};n.isNull=function(a){return null===a};n.isUndefined=function(a){return void 0===
a};n.has=function(a,b){return r.call(a,b)};n.noConflict=function(){h._=b;return this};n.identity=function(a){return a};n.times=function(a,b,k){for(var f=Array(Math.max(0,a)),p=0;p<a;p++)f[p]=b.call(k,p);return f};n.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var p={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};p.unescape=n.invert(p.escape);var Y={escape:RegExp("["+n.keys(p.escape).join("")+"]","g"),unescape:RegExp("("+n.keys(p.unescape).join("|")+
")","g")};n.each(["escape","unescape"],function(a){n[a]=function(b){return null==b?"":(""+b).replace(Y[a],function(b){return p[a][b]})}});n.result=function(a,b){if(null!=a){var k=a[b];return n.isFunction(k)?k.call(a):k}};n.mixin=function(a){G(n.functions(a),function(b){var k=n[b]=a[b];n.prototype[b]=function(){var a=[this._wrapped];t.apply(a,arguments);a=k.apply(n,a);return this._chain?n(a).chain():a}})};var Z=0;n.uniqueId=function(a){var b=++Z+"";return a?a+b:b};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,oa={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},ta=/\\|'|\r|\n|\t|\u2028|\u2029/g;n.template=function(a,b,k){var f;k=n.defaults({},k,n.templateSettings);var p=RegExp([(k.escape||C).source,(k.interpolate||C).source,(k.evaluate||C).source].join("|")+"|$","g"),m=0,h="__p+='";a.replace(p,function(b,k,f,p,n){h+=a.slice(m,n).replace(ta,function(a){return"\\"+oa[a]});k&&(h+="'+\n((__t=("+k+"))==null?'':_.escape(__t))+\n'");
f&&(h+="'+\n((__t=("+f+"))==null?'':__t)+\n'");p&&(h+="';\n"+p+"\n__p+='");m=n+b.length;return b});h+="';\n";k.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{f=new Function(k.variable||"obj","_",h)}catch(q){throw q.source=h,q;}if(b)return f(b,n);b=function(a){return f.call(this,a,n)};b.source="function("+(k.variable||"obj")+"){\n"+h+"}";return b};n.chain=function(a){return n(a).chain()};n.mixin(n);
G("pop push reverse shift sort splice unshift".split(" "),function(a){var b=f[a];n.prototype[a]=function(){var k=this._wrapped;b.apply(k,arguments);("shift"==a||"splice"==a)&&0===k.length&&delete k[0];return this._chain?n(k).chain():k}});G(["concat","join","slice"],function(a){var b=f[a];n.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?n(a).chain():a}});n.extend(n.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(){var h=this,b=h.Backbone,a=[],f=a.push,m=a.slice,t=a.splice,q;q="undefined"!==typeof exports?exports:h.Backbone={};q.VERSION="0.9.10";var s=h._;!s&&"undefined"!==typeof require&&(s=require("underscore"));q.$=h.jQuery||h.Zepto||h.ender;q.noConflict=function(){h.Backbone=b;return this};q.emulateHTTP=!1;q.emulateJSON=!1;var x=/\s+/,r=function(a,b,f,m){if(!f)return!0;if("object"===typeof f)for(var h in f)a[b].apply(a,[h,f[h]].concat(m));else if(x.test(f)){f=f.split(x);h=0;for(var n=f.length;h<
n;h++)a[b].apply(a,[f[h]].concat(m))}else return!0},y=function(a,b){var f,m=-1,h=a.length;switch(b.length){case 0:for(;++m<h;)(f=a[m]).callback.call(f.ctx);break;case 1:for(;++m<h;)(f=a[m]).callback.call(f.ctx,b[0]);break;case 2:for(;++m<h;)(f=a[m]).callback.call(f.ctx,b[0],b[1]);break;case 3:for(;++m<h;)(f=a[m]).callback.call(f.ctx,b[0],b[1],b[2]);break;default:for(;++m<h;)(f=a[m]).callback.apply(f.ctx,b)}},a=q.Events={on:function(a,b,f){if(!r(this,"on",a,[b,f])||!b)return this;this._events||(this._events=
{});(this._events[a]||(this._events[a]=[])).push({callback:b,context:f,ctx:f||this});return this},once:function(a,b,f){if(!r(this,"once",a,[b,f])||!b)return this;var m=this,h=s.once(function(){m.off(a,h);b.apply(this,arguments)});h._callback=b;this.on(a,h,f);return this},off:function(a,b,f){var m,h,n,q,l,t,y,x;if(!this._events||!r(this,"off",a,[b,f]))return this;if(!a&&!b&&!f)return this._events={},this;q=a?[a]:s.keys(this._events);l=0;for(t=q.length;l<t;l++)if(a=q[l],m=this._events[a]){n=[];if(b||
f){y=0;for(x=m.length;y<x;y++)h=m[y],(b&&b!==h.callback&&b!==h.callback._callback||f&&f!==h.context)&&n.push(h)}this._events[a]=n}return this},trigger:function(a){if(!this._events)return this;var b=m.call(arguments,1);if(!r(this,"trigger",a,b))return this;var f=this._events[a],h=this._events.all;f&&y(f,b);h&&y(h,arguments);return this},listenTo:function(a,b,f){var m=this._listeners||(this._listeners={}),h=a._listenerId||(a._listenerId=s.uniqueId("l"));m[h]=a;a.on(b,"object"===typeof b?this:f,this);
return this},stopListening:function(a,b,f){var m=this._listeners;if(m){if(a)a.off(b,"object"===typeof b?this:f,this),!b&&!f&&delete m[a._listenerId];else{"object"===typeof b&&(f=this);for(var h in m)m[h].off(b,f,this);this._listeners={}}return this}}};a.bind=a.on;a.unbind=a.off;s.extend(q,a);var N=q.Model=function(a,b){var f,m=a||{};this.cid=s.uniqueId("c");this.attributes={};b&&b.collection&&(this.collection=b.collection);b&&b.parse&&(m=this.parse(m,b)||{});if(f=s.result(this,"defaults"))m=s.defaults({},
m,f);this.set(m,b);this.changed={};this.initialize.apply(this,arguments)};s.extend(N.prototype,a,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return s.clone(this.attributes)},sync:function(){return q.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return s.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,f){var m,h,n,q,l,t,y;if(null==a)return this;"object"===typeof a?(h=a,f=b):(h={})[a]=b;f||(f={});
if(!this._validate(h,f))return!1;n=f.unset;q=f.silent;a=[];l=this._changing;this._changing=!0;l||(this._previousAttributes=s.clone(this.attributes),this.changed={});y=this.attributes;t=this._previousAttributes;this.idAttribute in h&&(this.id=h[this.idAttribute]);for(m in h)b=h[m],s.isEqual(y[m],b)||a.push(m),s.isEqual(t[m],b)?delete this.changed[m]:this.changed[m]=b,n?delete y[m]:y[m]=b;if(!q){a.length&&(this._pending=!0);b=0;for(m=a.length;b<m;b++)this.trigger("change:"+a[b],this,y[a[b]],f)}if(l)return this;
if(!q)for(;this._pending;)this._pending=!1,this.trigger("change",this,f);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,s.extend({},b,{unset:!0}))},clear:function(a){var b={},f;for(f in this.attributes)b[f]=void 0;return this.set(b,s.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!s.isEmpty(this.changed):s.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?s.clone(this.changed):!1;var b,f=!1,m=this._changing?
this._previousAttributes:this.attributes,h;for(h in a)if(!s.isEqual(m[h],b=a[h]))(f||(f={}))[h]=b;return f},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(a){a=a?s.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,k,f){if(!a.set(a.parse(k,f),f))return!1;b&&b(a,k,f)};return this.sync("read",this,a)},save:function(a,b,f){var m,h,n=this.attributes;
null==a||"object"===typeof a?(m=a,f=b):(m={})[a]=b;if(m&&(!f||!f.wait)&&!this.set(m,f))return!1;f=s.extend({validate:!0},f);if(!this._validate(m,f))return!1;m&&f.wait&&(this.attributes=s.extend({},n,m));void 0===f.parse&&(f.parse=!0);h=f.success;f.success=function(a,b,k){a.attributes=n;var f=a.parse(b,k);k.wait&&(f=s.extend(m||{},f));if(s.isObject(f)&&!a.set(f,k))return!1;h&&h(a,b,k)};a=this.isNew()?"create":f.patch?"patch":"update";"patch"===a&&(f.attrs=m);a=this.sync(a,this,f);m&&f.wait&&(this.attributes=
n);return a},destroy:function(a){a=a?s.clone(a):{};var b=this,f=a.success,m=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(a,b,k){(k.wait||a.isNew())&&m();f&&f(a,b,k)};if(this.isNew())return a.success(this,null,a),!1;var h=this.sync("delete",this,a);a.wait||m();return h},url:function(){var a=s.result(this,"urlRoot")||s.result(this.collection,"url")||X();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},
isNew:function(){return null==this.id},isValid:function(a){return!this.validate||!this.validate(this.attributes,a)},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=s.extend({},this.attributes,a);var f=this.validationError=this.validate(a,b)||null;if(!f)return!0;this.trigger("invalid",this,f,b||{});return!1}});var u=q.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this.models=[];this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,s.extend({silent:!0},b))};s.extend(u.prototype,a,{model:N,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return q.sync.apply(this,arguments)},add:function(a,b){a=s.isArray(a)?a.slice():[a];b||(b={});var m,h,n,q,y,l,x,r,G,S;x=[];r=b.at;G=this.comparator&&null==r&&!1!=b.sort;S=s.isString(this.comparator)?this.comparator:null;m=0;for(h=a.length;m<h;m++)(n=this._prepareModel(q=a[m],b))?(y=this.get(n))?b.merge&&(y.set(q===
n?n.attributes:q,b),G&&(!l&&y.hasChanged(S))&&(l=!0)):(x.push(n),n.on("all",this._onModelEvent,this),this._byId[n.cid]=n,null!=n.id&&(this._byId[n.id]=n)):this.trigger("invalid",this,q,b);x.length&&(G&&(l=!0),this.length+=x.length,null!=r?t.apply(this.models,[r,0].concat(x)):f.apply(this.models,x));l&&this.sort({silent:!0});if(b.silent)return this;m=0;for(h=x.length;m<h;m++)(n=x[m]).trigger("add",n,this,b);l&&this.trigger("sort",this,b);return this},remove:function(a,b){a=s.isArray(a)?a.slice():[a];
b||(b={});var f,m,h,n;f=0;for(m=a.length;f<m;f++)if(n=this.get(a[f]))delete this._byId[n.id],delete this._byId[n.cid],h=this.indexOf(n),this.models.splice(h,1),this.length--,b.silent||(b.index=h,n.trigger("remove",n,this,b)),this._removeReference(n);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,s.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,s.extend({at:0},
b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){if(null!=a)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[a.id||a.cid||a[this._idAttr]||a]},at:function(a){return this.models[a]},where:function(a){return s.isEmpty(a)?[]:this.filter(function(b){for(var f in a)if(a[f]!==b.get(f))return!1;return!0})},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
a||(a={});s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return s.invoke(this.models,"get",a)},update:function(a,b){b=s.extend({add:!0,merge:!0,remove:!0},b);b.parse&&(a=this.parse(a,b));var f,m,h,n,q=[],l=[],t={};s.isArray(a)||(a=a?[a]:[]);if(b.add&&!b.remove)return this.add(a,b);m=0;for(h=a.length;m<h;m++)f=a[m],n=this.get(f),
b.remove&&n&&(t[n.cid]=!0),(b.add&&!n||b.merge&&n)&&q.push(f);if(b.remove){m=0;for(h=this.models.length;m<h;m++)f=this.models[m],t[f.cid]||l.push(f)}l.length&&this.remove(l,b);q.length&&this.add(q,b);return this},reset:function(a,b){b||(b={});b.parse&&(a=this.parse(a,b));for(var f=0,m=this.models.length;f<m;f++)this._removeReference(this.models[f]);b.previousModels=this.models.slice();this._reset();a&&this.add(a,s.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=
a?s.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,f,k){a[k.update?"update":"reset"](f,k);b&&b(a,f,k)};return this.sync("read",this,a)},create:function(a,b){b=b?s.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var f=this,m=b.success;b.success=function(a,b,k){k.wait&&f.add(a,k);m&&m(a,b,k)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models.length=
0;this._byId={}},_prepareModel:function(a,b){if(a instanceof N)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var f=new this.model(a,b);return!f._validate(a,b)?!1:f},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,f,m){("add"===a||"remove"===a)&&f!==this||("destroy"===a&&this.remove(b,m),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=
b)),this.trigger.apply(this,arguments))},sortedIndex:function(a,b,f){b||(b=this.comparator);var m=s.isFunction(b)?b:function(a){return a.get(b)};return s.sortedIndex(this.models,a,m,f)}});s.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){u.prototype[a]=function(){var b=
m.call(arguments);b.unshift(this.models);return s[a].apply(s,b)}});s.each(["groupBy","countBy","sortBy"],function(a){u.prototype[a]=function(b,f){var m=s.isFunction(b)?b:function(a){return a.get(b)};return s[a](this.models,m,f)}});var z=q.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,ea=/(\(\?)?:\w+/g,B=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(z.prototype,a,{initialize:function(){},route:function(a,b,f){s.isRegExp(a)||
(a=this._routeToRegExp(a));f||(f=this[b]);q.history.route(a,s.bind(function(m){m=this._extractParameters(a,m);f&&f.apply(this,m);this.trigger.apply(this,["route:"+b].concat(m));this.trigger("route",b,m);q.history.trigger("route",this,b,m)},this));return this},navigate:function(a,b){q.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes)for(var a,b=s.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])},_routeToRegExp:function(a){a=a.replace(I,"\\$&").replace(L,"(?:$1)?").replace(ea,
function(a,b){return b?a:"([^/]+)"}).replace(B,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var E=q.History=function(){this.handlers=[];s.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,J=/^\/+|\/+$/g,n=/msie [\w.]+/,G=/\/$/;E.started=!1;s.extend(E.prototype,a,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,
b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var f=this.root.replace(G,"");a.indexOf(f)||(a=a.substr(f.length))}else a=this.getHash();return a.replace(F,"")},start:function(a){if(E.started)throw Error("Backbone.history has already been started");E.started=!0;this.options=s.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);a=this.getFragment();var b=document.documentMode,b=n.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(J,"/");b&&this._wantsHashChange&&(this.iframe=q.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)q.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)q.$(window).on("hashchange",this.checkUrl);
else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,
this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){q.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},
loadUrl:function(a){var b=this.fragment=this.getFragment(a);return s.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!E.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var f=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,f);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&
(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(f);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,f){f?(f=a.href.replace(/(javascript:|#).*$/,""),a.replace(f+"#"+b)):a.hash="#"+b}});q.history=new E;var la=q.View=function(a){this.cid=s.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},O=/^(\S+)\s*(.*)$/,T="model collection el id attributes className tagName events".split(" ");
s.extend(la.prototype,a,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof q.$?a:q.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=s.result(this,"events"))){this.undelegateEvents();for(var b in a){var f=a[b];s.isFunction(f)||(f=this[a[b]]);
if(!f)throw Error('Method "'+a[b]+'" does not exist');var m=b.match(O),h=m[1],m=m[2],f=s.bind(f,this),h=h+(".delegateEvents"+this.cid);if(""===m)this.$el.on(h,f);else this.$el.on(h,m,f)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=s.extend({},s.result(this,"options"),a));s.extend(this,s.pick(a,T));this.options=a},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var a=s.extend({},s.result(this,"attributes"));
this.id&&(a.id=s.result(this,"id"));this.className&&(a["class"]=s.result(this,"className"));a=q.$("<"+s.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});var aa={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};q.prepareData=function(a,b,f){return"create"==a||"update"==a||"patch"==a?JSON.stringify(b.toJSON(f)):null};q.sync=function(a,b,f){var m=aa[a];s.defaults(f||(f={}),{emulateHTTP:q.emulateHTTP,emulateJSON:q.emulateJSON});var h={type:m,dataType:"json"};f.url||
(h.url=s.result(b,"url")||X());null==f.data&&b&&(h.contentType="application/json",h.data=q.prepareData(a,b,f));f.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{});if(f.emulateHTTP&&("PUT"===m||"DELETE"===m||"PATCH"===m)){h.type="POST";f.emulateJSON&&(h.data._method=m);var n=f.beforeSend;f.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",m);if(n)return n.apply(this,arguments)}}"GET"!==h.type&&!f.emulateJSON&&(h.processData=!1);var t=
f.success;f.success=function(a){t&&t(b,a,f);b.trigger("sync",b,a,f)};var l=f.error;f.error=function(a){l&&l(b,a,f);b.trigger("error",b,a,f)};a=f.xhr=q.ajax(s.extend(h,f));b.trigger("request",b,a,f);return a};q.ajax=function(){return q.$.ajax.apply(q.$,arguments)};N.extend=u.extend=z.extend=la.extend=E.extend=function(a,b){var f=this,m;m=a&&s.has(a,"constructor")?a.constructor:function(){return f.apply(this,arguments)};s.extend(m,f,b);var h=function(){this.constructor=m};h.prototype=f.prototype;m.prototype=
new h;a&&s.extend(m.prototype,a);m.__super__=f.prototype;return m};var X=function(){throw Error('A "url" property or function must be specified');}}).call(this);var Ya={};(function(h,b){function a(a){return String(null===a||void 0===a?"":a)}h.Template=function(a,f,m,h){this.r=a||this.r;this.c=m;this.options=h;this.text=f||"";this.buf=b?[]:""};h.Template.prototype={r:function(a,b,f){return""},v:function(b){b=a(b);return x.test(b)?b.replace(f,"&amp;").replace(m,"&lt;").replace(t,"&gt;").replace(q,"&#39;").replace(s,
"&quot;"):b},t:a,render:function(a,b,f){return this.ri([a],b||{},f)},ri:function(a,b,f){return this.r(a,b,f)},rp:function(a,b,f,m){a=f[a];if(!a)return"";this.c&&"string"==typeof a&&(a=this.c.compile(a,this.options));return a.ri(b,f,m)},rs:function(a,b,f){var m=a[a.length-1];if(r(m))for(var h=0;h<m.length;h++)a.push(m[h]),f(a,b,this),a.pop();else f(a,b,this)},s:function(a,b,f,m,h,q,s){if(r(a)&&0===a.length)return!1;"function"==typeof a&&(a=this.ls(a,b,f,m,h,q,s));f=!!a;!m&&(f&&b)&&b.push("object"==
typeof a?a:b[b.length-1]);return f},d:function(a,b,f,m){var h=a.split("."),q=this.f(h[0],b,f,m),s=null;if("."===a&&r(b[b.length-2]))return b[b.length-1];for(a=1;a<h.length;a++)q&&"object"==typeof q&&h[a]in q?(s=q,q=q[h[a]]):q="";if(m&&!q)return!1;!m&&"function"==typeof q&&(b.push(s),q=this.lv(q,b,f),b.pop());return q},f:function(a,b,f,m){for(var h=!1,q=null,s=!1,t=b.length-1;0<=t;t--)if((q=b[t])&&"object"==typeof q&&a in q){h=q[a];s=!0;break}if(!s)return m?!1:"";!m&&"function"==typeof h&&(h=this.lv(h,
b,f));return h},ho:function(a,b,f,m,h){var q=this.c;a=a.call(b,m,function(a){return q.compile(a,{delimiters:h}).render(b,f)});this.b(q.compile(a.toString(),{delimiters:h}).render(b,f));return!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");this.buf=[];return a}:function(){var a=this.buf;this.buf="";return a},ls:function(a,b,f,m,h,q,s){b=b[b.length-1];var t=null;if(!m&&this.c&&0<a.length)return this.ho(a,b,f,this.text.substring(h,q),s);t=a.call(b);
if("function"==typeof t){if(m)return!0;if(this.c)return this.ho(t,b,f,this.text.substring(h,q),s)}return t},lv:function(a,b,f){b=b[b.length-1];a=a.call(b);"function"==typeof a&&(a=a.call(b));a=a.toString();return this.c&&~a.indexOf("{{")?this.c.compile(a).render(b,f):a}};var f=/&/g,m=/</g,t=/>/g,q=/\'/g,s=/\"/g,x=/[&<>\"\']/,r=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}})("undefined"!==typeof exports?exports:Ya);(function(){var h,b,a;h=[];b=2;a=null;$(function(){a=
_.debounce(function(){if(0<h.length){try{$.post("/err",{errors:h})}catch(a){}return h=[]}},1E3);return a()});window.onerror=function(f,m,t,q,s){var x,r,y;if(RegExp("https?://("+location.host+"|[a-z0-9]+\\.cloudfront\\.net|a.trellocdn.com)/").test(m)&&!(0>=b))return x={name:null!=s?s.name:void 0,msg:null!=(r=null!=s?s.message:void 0)?r:f,url:m,line:t,col:q,stack:null!=s?s.stack:void 0,ua:"undefined"!==typeof navigator&&null!==navigator?navigator.userAgent:void 0,browser:"undefined"!==typeof O&&null!==
O?O.asString:void 0,language:null!=(y=navigator.language)?y:navigator.browserLanguage,clientVersion:clientVersion},"undefined"!==typeof Auth&&null!==Auth&&Auth.isLoggedIn()&&(x.idMember=Auth.myId()),_.any(h,function(a){return _.isEqual(a,x)})||(b--,h.push(x),"function"===typeof a&&a()),"function"===typeof z&&z("Client JS Error",f),!1};return window.crashTest=function(){return setTimeout(function(){return thingThatDoesNotExist.crash},1)}})();var O,ka,r=function(h,b){return function(){return h.apply(b,
arguments)}};ka=new (function(){function h(){this.searchVersion=r(this.searchVersion,this);this.searchString=r(this.searchString,this);this.browser=this.searchString(this.dataBrowser)||"unknown-browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"unknown-browser-version";this.OS=this.searchString(this.dataOS)||"unknown-os"}h.prototype.searchString=function(b){var a,f,m;f=0;for(m=b.length;f<m;f++)if(a=b[f],this.versionSearchString=a.versionSearch||
a.identity,a.string&&-1!==a.string.indexOf(a.subString)||a.prop)return a.identity};h.prototype.searchVersion=function(b){var a;a=b.indexOf(this.versionSearchString);if(-1!==a)return parseFloat(b.substring(a+this.versionSearchString.length+1))};h.prototype.dataBrowser=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},
{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",
versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];h.prototype.dataOS=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"iPod",identity:"iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},
{string:navigator.platform,subString:"Linux",identity:"Linux"}];return h}());O=new (function(){function h(){this.allowsDynamicFavicon=r(this.allowsDynamicFavicon,this);this.isHighDPI=r(this.isHighDPI,this);this.isTouch=r(this.isTouch,this);this.browserStr=ka.browser.toLowerCase();this.browserVersionStr=(""+ka.browser+"-"+ka.version).toLowerCase();this.osStr=ka.OS.toLowerCase();this.asString=""+this.browserStr+" "+this.browserVersionStr+" "+this.osStr;$(function(b){return function(){return $("body").addClass(b.asString)}}(this))}
h.prototype.isTouch=function(){var b;return"ipad"===(b=this.osStr)||"iphone"===b||"android"===b};h.prototype.isHighDPI=function(){return 1<window.devicePixelRatio};h.prototype.allowsDynamicFavicon=function(){var b;return"chrome"===(b=this.browserStr)||"firefox"===b};return h}());var J,r=function(h,b){return function(){return h.apply(b,arguments)}},T={}.hasOwnProperty,F=function(h,b){function a(){this.constructor=h}for(var f in b)T.call(b,f)&&(h[f]=b[f]);a.prototype=b.prototype;h.prototype=new a;h.__super__=
b.prototype;return h},jb=[].slice;J=function(h){function b(a){this.handleDOMRemove=r(this.handleDOMRemove,this);this._subviews={};this.modelCache=null!=a?a.modelCache:void 0;b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.subview=function(a,b,m,h){null==m&&(m={});null==h&&(h=""+a.prototype.uniqueId()+"_"+b.cid);h in this._subviews||(this._subviews[h]=new a(_.extend({model:b,modelCache:this.modelCache},m)));return this._subviews[h]};b.prototype.existingSubview=function(a,b,m){null==
m&&(m=""+a.prototype.uniqueId()+"_"+b.cid);if(!(m in this._subviews))throw Error("existingSubview called before subview was created");return this._subviews[m]};b.prototype.existingSubviewOrUndefined=function(a,b,m){null==m&&(m=""+a.prototype.uniqueId()+"_"+b.cid);return this._subviews[m]};b.prototype.collectionSubview=function(a,b,m,h){var q;null==m&&(m={});null==h&&(h=a.prototype.uniqueId());a=null!=(q=this._subviews)[h]?q[h]:q[h]=new a(_.extend({collection:b,modelCache:this.modelCache},m));null!=
m.el&&a.el!==m.el&&a.setElement(m.el);return a};b.prototype.subviewsOfType=function(a){var b,m,h,q;h=this._subviews;q=[];for(b in h)T.call(h,b)&&(m=h[b],m instanceof a&&q.push(m));return q};b.prototype.deleteSubview=function(a,b){null==b&&(b=""+a.constructor.prototype.uniqueId()+"_"+a.model.cid);if(a!==this._subviews[b])throw Error("incorrect key for subview in deleteSubview");a.remove();return delete this._subviews[b]};b.prototype.remove=function(){var a,f,m,h;m=this._subviews;for(a in m)f=m[a],
f.remove();delete this._subviews;if(null!=this._intervals){h=this._intervals;f=0;for(m=h.length;f<m;f++)a=h[f],clearInterval(a)}if(null!=this._timeouts){h=this._timeouts;f=0;for(m=h.length;f<m;f++)a=h[f],clearTimeout(a)}"undefined"!==typeof UserInput&&null!==UserInput&&UserInput.removeHandler(this);return b.__super__.remove.apply(this,arguments)};b.prototype.removeQueued=function(a){var b,m,h;a||(a=async.cargo(function(a,b){var f,m,h;m=0;for(h=a.length;m<h;m++)f=a[m],f.remove();return _.defer(b)},
10),a.push(this));h=this._subviews;for(b in h)m=h[b],a.push(m),m.removeQueued(a);return this._subviews={}};b.prototype.makeDebouncedMethods=function(){var a,b,m,h;b=1<=arguments.length?jb.call(arguments,0):[];m=0;for(h=b.length;m<h;m++)a=b[m],this[a+"Debounced"]=u.voidDebounced(this[a])};b.prototype.handleDOMRemove=function(){return this._delegated=!1};b.prototype.delegateEvents=function(){var a,f,m;if(!this._delegated){this.$el.on("remove",this.handleDOMRemove);b.__super__.delegateEvents.apply(this,
arguments);m=this._subviews;for(a in m)f=m[a],f.delegateEvents();this._delegated=!0}};b.prototype.undelegateEvents=function(){var a,f,m;if(this._delegated){this.$el.off("remove",this.handleDOMRemove);b.__super__.undelegateEvents.apply(this,arguments);m=this._subviews;for(a in m)f=m[a],f.undelegateEvents();this._delegated=!1}};b.prototype.appendSubview=function(a,b){null==b&&(b=this.$el);return this.appendSubviews([a],b)};b.prototype.appendSubviews=function(a,b){var m,h,q;null==b&&(b=this.$el);h=0;
for(q=a.length;h<q;h++)m=a[h],m.delegateEvents();return b.append(function(){var b,f,h;h=[];b=0;for(f=a.length;b<f;b++)m=a[b],h.push(m.render().el);return h}())};b.prototype.recursivelyStopListening=function(){var a,b,m;this.stopListening();m=this._subviews;for(a in m)b=m[a],b.recursivelyStopListening()};b.prototype.uniqueId=function(){this.hasOwnProperty("_uniqueId")||(this._uniqueId=_.uniqueId("view"));return this._uniqueId};b.prototype.destructor=function(){var a,b,m,h,q;this.remove();if(null!=
this._using){q=this._using;m=0;for(h=q.length;m<h;m++)b=q[m],"function"===typeof b.destructor&&b.destructor()}this.undelegateEvents();a=0;return async.whilst(function(a){return function(){return a.$el.is(":visible")}}(this),function(b){return function(b){a+=1E3;setTimeout(b,1E3);if(1E4<a)return log("view","Unable to remove a view")}}(this),function(a){return function(b){a.$el.remove();return u.shred(a)}}(this))};b.prototype.setInterval=function(a,b){null==this._intervals&&(this._intervals=[]);return this._intervals.push(setInterval(a,
b))};b.prototype.setTimeout=function(a,b){var m;null==this._timeouts&&(this._timeouts=[]);this._timeouts.push(m=setTimeout(a,b));return m};b.prototype.forceIntoDom=function(){var a;if(0===this.$el.closest("html").length)return a=$("#staging"),0===a.length&&(a=$("<div>").attr("id","staging").css({visibility:"hidden",position:"absolute",left:0,top:-1E5,width:"100%"}).appendTo("body")),a.append(this.el)};return b}(Backbone.View);"undefined"!==typeof u&&null!==u&&u.extendWithModelCacheHelpers(J);T={}.hasOwnProperty;
F=function(h,b){function a(){this.constructor=h}for(var f in b)T.call(b,f)&&(h[f]=b[f]);a.prototype=b.prototype;h.prototype=new a;h.__super__=b.prototype;return h};(function(h){function b(){return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.initialize=function(){this.listenTo(this.collection,{"change:pos":this.sort,"change:closed":this.closed,add:this.addModel,remove:this.removeModel,reset:this.reset});return b.__super__.initialize.apply(this,arguments)};b.prototype.getModels=
function(){return this.collection.models};b.prototype.addModel=function(a,b){var m;log("render","adding "+this.collection.model.name+" to "+this.viewType.name);m=this.subview(this.viewType,a);this.el&&this.insertSubview(m,_.indexOf(this.getModels(),a))};b.prototype.removeModel=function(a,b){var m;log("render","removing "+this.collection.model.name+" from "+this.viewType.name);m=this.subview(this.viewType,a);m.$el.hide();m.destructor();this.deleteSubview(m)};b.prototype.closed=function(a,b,m){b?this.removeModel(a,
m):this.addModel(a,m)};b.prototype.reset=function(a,b){var m,h,q,s,x,r;q=b.previousModels;m={};r=a.models;s=0;for(x=r.length;s<x;s++)h=r[s],m[h.cid]=!0;s=0;for(x=q.length;s<x;s++)h=q[s],m[h.cid]||this.removeModel(h);return this.sort()};b.prototype.sort=function(){var a,b,m,h,q;q=this.getModels();a=m=0;for(h=q.length;m<h;a=++m)b=q[a],this.moveSubviewToPosition(this.subview(this.viewType,b),a)};b.prototype.render=function(a){var b;log("render","rendering "+this.getModels().length+" "+this.collection.model.name+
"s into "+this.viewType.name);this.appendSubviews(function(){var a,h,q,s;q=this.getModels();s=[];a=0;for(h=q.length;a<h;a++)b=q[a],s.push(this.subview(this.viewType,b));return s}.call(this));"function"===typeof a&&a();return this};b.prototype.insertSubview=function(a,b,h){null==h&&(h=this.$el);log("render","inserting "+a.$el.find("h2").text()+" at position "+b);"number"===typeof b?b=0>=b?h.children().eq(0):b<h.children().length?h.children().eq(b):void 0:b instanceof J&&(b=b.$el);a.$el.is(":empty")&&
(a.delegateEvents(),a.render());0<(null!=b?b.length:void 0)?a.$el.insertBefore(b):h.append(a.$el)};b.prototype.moveSubviewToPosition=function(a,b,h){var t,q,s,x;null==h&&(h=this.$el);if(a.$el.is(":empty"))this.insertSubview(a,b,h);else{x=h.children(".placeholder,.card-composer");q=0;for(s=x.length;q<s;q++)t=x[q],$(t).index()<=b&&b++;t=a.$el.index();t!==b&&(log("render","moving "+a.$el.find("h2").text()+" into position "+b),0===b?h.prepend(a.$el):b>=h.children().length?h.append(a.$el):a.$el.insertAfter(h.children().eq(b-
1)))}};return b})(J);var aa,T={}.hasOwnProperty,F=function(h,b){function a(){this.constructor=h}for(var f in b)T.call(b,f)&&(h[f]=b[f]);a.prototype=b.prototype;h.prototype=new a;h.__super__=b.prototype;return h};aa=function(h){function b(){return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.allowNewlines=!0;b.prototype._draftKey=function(a){return"draft_"+this.model.id+"_"+a};b.prototype._saveDraft=function(a,b){return Storage.set(this._draftKey(a),b)};b.prototype._recallDraft=
function(a){return Storage.get(this._draftKey(a))};b.prototype._discardDraft=function(a){return Storage.unset(this._draftKey(a))};b.prototype.editField=function(a){var b,h,t;b=$(a.target).closest("a");if(!(0<b.length&&"#"!==b.attr("href"))&&!DragSort.dragging&&!DragSort.sorting&&!("function"===typeof window.getSelection&&null!=(h=window.getSelection())&&h.toString()||null!=(t=document.selection)&&t.createRange().text))return u.stop(a),E.hide(),a=$(a.target).closest(".editable"),a=a.attr("attr"),this.edit(a)};
b.prototype.edit=function(a){var b,h,t,q,s,x,r,y;-1<a.indexOf(".")&&(y=a.split("."),a=y[1]);b=this.$("[attr="+a+"]");t=this.$(".js-no-higher-edits [attr="+a+"]");b=b.not(t);0!==b.length&&(ca.cancelEdits(),t=b.find(".edit:first"),0!==t.length&&(q=b.find(".field:first"),x=q.is("textarea"),s=q.parent().is(".card-detail-edit"),h=b.find(".current"),x&&(r=Math.ceil(parseFloat($(h).css("line-height").slice(0,-2))),x=27*r,h=s?Math.max(7*r,h.height()+r):Math.max(2*r,h.height()+r),h>x&&(h=x),q.height(h+16)),
t.append(B.fill("edit_controls")),t.hasClass("delete")||t.find(".delete").remove(),t.hasClass("convert")||t.find(".convert").remove(),t.hasClass("options-menu")||t.find(".options-menu").remove(),b.addClass("editing"),""===q.val()&&q.val(u.traverse(this.model.attributes,null!=y?y:a)),q.data("draftKey",this._draftKey(a)),log("editable",this.model),q.focus().select()))};b.prototype.recallDrafts=function(){var a,b,h;h=this;a=this.$("[attr]");b=this.$(".js-no-higher-edits [attr]");return a.not(b).each(function(){var a,
b;a=$(this).attr("attr");b=h._recallDraft(a);if(null!=b)return a=$(this).find(".field:first"),a.val(b),_.defer(function(a){return function(){return $(a).find(".edits-warning").show()}}(this))})};b.prototype.stopEditing=function(a){u.stop(a);ca.cancelEdits();return!1};b.prototype.clearEdits=function(a){var b;u.stop(a);a=$(a.target).closest(".editable[attr]");b=a.attr("attr");null!=b&&this._discardDraft(b);a.find(".field").val("");a.find(".edits-warning").hide();a.find(".edits-error").hide();ca.cancelEdits();
return!1};b.prototype.validate=function(){var a,b,h,t,q;t=this.$(".editing.non-empty .field");b=0;for(h=t.length;b<h;b++)if(a=t[b],/^\s*$/.test($(a).val()))return!1;t=this.$(".editing .field");b=0;for(h=t.length;b<h;b++)if(a=t[b],a=null!=(q=$(a).val())?q.length:void 0,16384<a)return $(".editing").find(".edits-error").text("Your text is "+(a-16384)+" characters too long to save").show(),!1;return!0};b.prototype.keydownEvent=function(a){ca.isEditing()&&(E.view instanceof EmojiCompleterView||E.view instanceof
AutoMentionerView?"function"===typeof this.checkInsert&&this.checkInsert(a):u.isForceSubmitKey(a)||a.keyCode===Key_Enter&&(!$(a.target).is("textarea")||$(a.currentTarget).hasClass("single-line"))&&!a.shiftKey?(u.stop(a),this.commitEdits(a)):a.keyCode===Key_Enter&&!this.allowNewlines&&u.stop(a))};b.prototype.commitEdits=function(a){var b,h,t;u.stop(a);b=$(a.target).closest(".editable.editing[attr]");b.find(".edits-error").hide();if(this.validate())return t=this,h=this.model,b.remove("input[type=submit]"),
b.removeClass("editing").each(function(){var a,s,r,u;s=$(this).attr("attr");r=$(this).find(".field").val();t.allowNewlines||(r=r.replace(/[\r\n]+/g," "));0===jQuery.trim(r).length&&(r="");u={};"function"===typeof t.customSet&&t.customSet(s,r)?t._discardDraft(s):(u[s]=r,a=$(this).find(".current"),a.hasClass("markeddown")?a.html(TFM.full.format(null!=r?r:"",{textData:h.get("descData")}).output):a.hasClass("js-text-as-html")?a.html(Format.textAsHtml(null!=r?r:"",{convertNewlines:!0})):a.text(r),log("editable",
"*** Set Data: "),log("editable",u),log("editable",h));return h.get(s)===r?t._discardDraft(s):h.update(u,function(a){return null!=a?b.find(".edits-error").text(a).show():t._discardDraft(s)})}).find(".field").val(""),b.find(".edits-warning").hide(),!0};b.prototype.clickSetting=function(a){var b,h,t;b=$(a.target);if(!b.hasClass("disabled")&&!b.closest(".js-disabled").length&&(h=b.attr("href"),!(h&&"#"!==h)&&(h=b.closest(".pref").attr("name"))))t=b.attr("value"),t=function(){switch(t){case "true":return!0;
case "false":return!1;default:return t}}(),this.model.setPref(h,t),this.model.save(),u.stop(a)};b.prototype.delegateEvents=function(a){var f;f={"click .current":"editField","click .js-cancel-edit":"clearEdits","click .js-discard-edits":"clearEdits","click .js-view-edits":"editField","click .js-save-edit":"commitEdits","keydown .field":"keydownEvent","click input":u.stopPropagation,"click textarea":u.stopPropagation};null!=this.model.setPref&&(f["click a"]="clickSetting");return b.__super__.delegateEvents.call(this,
_.extend(f,a||this.events))};return b}(J);var Fa,r=function(h,b){return function(){return h.apply(b,arguments)}},T={}.hasOwnProperty,F=function(h,b){function a(){this.constructor=h}for(var f in b)T.call(b,f)&&(h[f]=b[f]);a.prototype=b.prototype;h.prototype=new a;h.__super__=b.prototype;return h};Fa=function(h){function b(a){var f,h,t,q,s,x,u;this.model=a.model;u=a.text;this.elem=a.elem;this.top=a.top;t=a.confirmText;h=a.confirmBtnClass;f=a.cancelText;this.title=a.title;this.template=a.template;q=
a.data;x=a.fxConfirm;s=a.fxCancel;this.popOnClick=a.popOnClick;this._handleClick=r(this._handleClick,this);this.render=r(this.render,this);this.getViewTitle=r(this.getViewTitle,this);null==this.template&&(this.template="confirm");this.confirm=this._handleClick(x);this.cancel=s?this._handleClick(s):function(){};this.data=_.extend({text:u,confirmText:t,confirmBtnClass:h,cancelText:f},null!=q?q:{});b.__super__.constructor.apply(this,arguments)}F(b,h);b.toggle=function(a){return E.toggle({elem:a.elem,
top:a.top,view:this,options:a})};b.pushView=function(a){return E.pushView({view:this,options:a})};b.prototype.getViewTitle=function(){return this.title};b.prototype.events={"click .js-confirm":"confirm","click .js-cancel":"cancel"};b.prototype.render=function(){this.$el.html(B.fill(this.template,this.data,{},{member:B.member}));return this};b.prototype._handleClick=function(a){return function(b){return function(h){u.stop(h);b.popOnClick?E.popView():E.hide();"function"===typeof a&&a(h);b.remove();
b.unbind();return!1}}(this)};return b}(J);var Za,$a,Ga,ab,bb,Ha,Ia,Ja,r=function(h,b){return function(){return h.apply(b,arguments)}},T={}.hasOwnProperty,F=function(h,b){function a(){this.constructor=h}for(var f in b)T.call(b,f)&&(h[f]=b[f]);a.prototype=b.prototype;h.prototype=new a;h.__super__=b.prototype;return h},Ka=[].indexOf||function(h){for(var b=0,a=this.length;b<a;b++)if(b in this&&this[b]===h)return b;return-1};(function(h){function b(){this.viewChannelPicker=r(this.viewChannelPicker,this);
this.showFeedbackButton=r(this.showFeedbackButton,this);this.viewMemberMenu=r(this.viewMemberMenu,this);this.viewNotificationsMenu=r(this.viewNotificationsMenu,this);this.renderUnreadNotifications=r(this.renderUnreadNotifications,this);this.renderAvatar=r(this.renderAvatar,this);this.renderMemberName=r(this.renderMemberName,this);this.renderUpgradeAvailable=r(this.renderUpgradeAvailable,this);this.initialize=r(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.className=
"header-user";b.prototype.initialize=function(){var a;this.listenTo(this.modelCache,"add:Notification change:Notification remove:Notification",this.renderUnreadNotifications);this.listenTo(this.model,"change:initials change:avatarHash change:avatarSource change:fullName change:username",this.renderAvatar);$(ClientVersion).bind("change:serverVersion",this.renderUpgradeAvailable);this.idLastNotification=null!=(a=_.chain(this.Notification.all()).pluck("id").compact().sort().last().value())?a:"";this.modelCache.on("add:Notification",
function(a){return function(b){if(b.id>a.idLastNotification)return a.idLastNotification=b.id,DesktopNotifications.notify(b)}}(this));return b.__super__.initialize.apply(this,arguments)};b.prototype.destructor=function(){$(ClientVersion).unbind("change:serverVersion",this.renderUpgradeAvailable);return b.__super__.destructor.apply(this,arguments)};b.prototype.events={"click .js-open-header-notifications-menu":"viewNotificationsMenu","click .js-open-header-member-menu":"viewMemberMenu","click .js-open-add-menu":"openAddMenu",
"click .js-toggle-login-popover":"viewLoginMenu","click .js-open-feedback":"openFeedback",shortcut:"shortcut","click .js-open-channel-picker":"viewChannelPicker"};b.prototype.shortcut=function(a){switch(a){case Key_B:return this.viewBoardsMenu(),"Header Boards Menu"}};b.prototype.render=function(a){var b;null==a&&(a=!1);log("render","rendering header");a={hasTrelloGold:this.model.isGold(),is_promo:a,showChannelPicker:1<(null!=(b=window.channels)?b.allowed.length:void 0)};this.$el.html(B.fill("header_user",
a,{},{header_signup_login:B.header_signup_login}));this.renderUpgradeAvailable();this.renderUnreadNotifications();this.renderAvatar();this.renderMemberName();return this};b.prototype.renderUpgradeAvailable=function(){log("render","rendering upgrade available");if(Controller.advertiseUpgrade())return this.$(".upgrade").show()};b.prototype.renderMemberName=function(){var a;return this.$(".js-member-name").text(null!=(a=this.model.get("fullName"))?a:this.model.get("username"))};b.prototype.renderAvatar=
function(){log("render","rendering avatar");this.$(".member").html(B.fill("member",this.model.toJSON()));return this};b.prototype.renderUnreadNotifications=function(){var a,b;a=this.Notification.unreadCount();b=""+u.formatCount(a,"Notification",!0)+". Click to view notifications.";this.$(".js-open-header-notifications-menu").attr("title",b).toggleClass("new-notifications",0<a);Controller.title();return this};b.prototype.viewLoginMenu=function(a){u.stop(a);z("Header","Login Menu","Open Login Menu");
return E.toggle({elem:this.$(".js-toggle-login-popover"),top:40,view:Auth.me().getView(Ja)})};b.prototype.viewNotificationsMenu=function(a){u.stop(a);z("Header","Notifications Menu","Open Notifications Menu");E.toggle({elem:this.$(".js-open-header-notifications-menu"),top:40,view:HeaderNotificationListView,hidden:_.bind(this.model.clearAllNotifications,this.model),options:{model:this.model,modelCache:this.modelCache}})};b.prototype.openAddMenu=function(a){u.stop(a);z("Header","Add Menu","Open");a=
Auth.me().getView(Ga);E.toggle({elem:this.$(".js-open-add-menu"),top:40,view:a})};b.prototype.viewMemberMenu=function(a){u.stop(a);z("Header","User Menu","Open User Menu");a=Auth.me().getView(bb);E.toggle({elem:this.$(".js-open-header-member-menu"),top:40,view:a})};b.prototype.showFeedbackButton=function(){this.$(".js-open-feedback").removeClass("hide");return this};b.prototype.openFeedback=function(a){u.stop(a);Dialog.show({view:new EarlyVersionFeedbackView({model:this.Auth.me(),modelCache:this.modelCache}),
maxWidth:750})};b.prototype.viewChannelPicker=function(a){u.stop(a);E.toggle({elem:this.$(".js-open-channel-picker"),top:41,view:ab})};return b})(J);ab=function(h){function b(){this.showDev=r(this.showDev,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.CHANNELS=["stable","beta","alpha"];b.prototype.getViewTitle=function(){return"Switch Channels"};b.prototype.events={"click .js-select":"selectChannel","click .js-select-dev":"showDev","click .js-remove-cookie":"removeCookie"};
b.prototype.initialize=function(){var a,b,h,t,q;t=this.CHANNELS;q=[];b=0;for(h=t.length;b<h;b++)a=t[b],0<=Ka.call(window.channels.allowed,a)&&q.push({name:a,displayName:u.capitalize(a),active:a===window.channels.active});this.channels=q;return this.isDev=window.channels.dev};b.prototype.selectChannel=function(a){var b;b=a.target.name;return ApiAjax({url:"/1/members/me/channels/active",type:"PUT",data:{value:b},success:function(a){return function(){window.channels.active=b;E.hide();return document.location.reload()}}(this)})};
b.prototype.removeCookie=function(a){u.stop(a);$.cookie("head",null,{path:"/"});return this.render()};b.prototype.render=function(){var a;(a=!!$.cookie("head"))&&this.isDev&&_.defer(this.showDev);this.$el.html(B.fill("header_channel_picker",{channels:this.channels,cookie:a,dev:this.isDev}));return this};b.prototype.showDev=function(){E.pushView({view:Ha});return this};return b}(J);Ha=function(h){function b(){return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.getViewTitle=function(){return"Select client version"};
b.prototype.events={"change .js-select-head":"updateHead","change .js-select-version":"updateVersion"};b.prototype.initialize=function(){var a,b,h;a:{try{h=JSON.parse($.cookie("head"));break a}catch(t){}h=void 0}this.active=h||{};if(this.active.version)return this.active.version=[null!=(a=this.active.version)?a:0,null!=(b=this.active.patch)?b:0].join(".")};b.prototype.render=function(){this.$el.html(B.fill("header_version_picker",{active:this.active,heads:[null].concat(this.listHeads()),versions:[null].concat(this.listVersions())}));
return this};b.prototype.listHeads=function(){var a,b,h;b=window.clientDeployments;h=[];for(a in b)h.push({displayName:u.capitalize(a),name:a,selected:this.active.name===a});return h};b.prototype.listVersions=function(){var a,b,h,t;h=window.clientDeployments[this.active.name];t=[];for(b in h)a=h[b],t.push({name:b,active:a,selected:b===this.active.version});return t};b.prototype.updateHead=function(a){this.active.name=$(a.target).val();this.active.version=null;return this.render()};b.prototype.updateVersion=
function(a){this.active.version=$(a.target).val();this.render();a=this.active.version.split(".");$.cookie("head",JSON.stringify({name:this.active.name,version:a[0],patch:a[1]}),{path:"/"});return document.location.reload()};return b}(J);Ja=function(h){function b(){this.loginPassword=r(this.loginPassword,this);this.loginGoogle=r(this.loginGoogle,this);this.render=r(this.render,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.getViewTitle=function(){return"Log In"};b.prototype.className=
"login-popover";b.prototype.initialize=function(){return this.errors={}};b.prototype.events={"click .js-google-login":"loginGoogle","click .js-password-login":"loginPassword"};b.prototype.render=function(){this.$el.html(B.fill("login_popover",{badLogin:this.errors.badLogin,returnUrl:"/"}));return this};b.prototype.loginGoogle=function(a){u.stop(a);z("Header","Log In","Google");TRMixpanel.justLoggedIn();a=$(a.target).closest("form");a.find('input[name="mode"]').val("popup");a.find('input[name="immediate"]').val(!1);
a.find('input[name="returnUrl"]').val(document.location.pathname);return a.submit()};b.prototype.loginPassword=function(a){return TRMixpanel.justLoggedIn()};return b}(J);(function(h){function b(){this.toggleBoardsSidebar=r(this.toggleBoardsSidebar,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.className="header-boards-button";b.prototype.events={"click .js-boards-menu":"toggleBoardsSidebar"};b.prototype.render=function(){this.$el.html(B.fill("header_boards_menu_button"));
return this};b.prototype.toggleBoardsSidebar=function(a){u.stop(a);z("Header","Boards Menu","Toggle Boards Menu");SidebarState.getShowSidebar()?SidebarState.hideSidebar():SidebarState.showSidebar()};return b})(J);bb=function(h){function b(){this.logout=r(this.logout,this);this.reco=r(this.reco,this);this.account=r(this.account,this);this.billing=r(this.billing,this);this.cards=r(this.cards,this);this.profile=r(this.profile,this);this.render=r(this.render,this);return b.__super__.constructor.apply(this,
arguments)}F(b,h);b.prototype.initialize=function(){return this.model.ond("change:loginTypes",this.render)};b.prototype.getViewTitle=function(){return this.model.getMemberViewTitle()};b.prototype.events={"click .js-profile":"profile","click .js-cards":"cards","click .js-billing":"billing","click .js-account":"account","click .js-help":"help","click .js-reco":"reco","click .js-logout":"logout"};b.prototype.render=function(){var a,b;log("render","rendering HeaderMemberMenuView");a=this.model.toJSON();
a.cardsUrl=Controller.getMemberCardsUrl();a.profileUrl=Controller.getMemberProfileUrl();a.billingUrl=Controller.getMemberBillingUrl();a.accountUrl=Controller.getMemberAccountUrl();a.canLogOut=Auth.canLogIn();a.hasTrelloGold=this.model.isGold();a.hasAccount=MemberFeatures.hasAccount(null!=(b=a.paidAccount)?b.standing:void 0);this.$el.html(B.fill("header_member_menu",a));return this};b.prototype.profile=function(){return z("Header","User Menu","Profile")};b.prototype.cards=function(){return z("Header",
"User Menu","Cards")};b.prototype.billing=function(){return z("Header","User Menu","Billing")};b.prototype.account=function(){return z("Header","User Menu","Settings")};b.prototype.help=function(){return z("Header","User Menu","Help")};b.prototype.reco=function(){return z("Header","User Menu","Recommend")};b.prototype.logout=function(a){if(Auth.canLogIn())return $("<form>").attr({method:"post",action:"/logout"}).css({display:"none"}).appendTo("body").submit(),z("Header","User Menu","Log Out");E.pushView({view:this.model.getView(ChangeSetPasswordPopoverView)});
return u.stop(a)};return b}(J);(function(h){function b(){this.openAnnouncement=r(this.openAnnouncement,this);this.renderUnreadAnnouncementCount=r(this.renderUnreadAnnouncementCount,this);this.render=r(this.render,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.initialize=function(){Announcements.onAddRemove(this.renderUnreadAnnouncementCount);AllAnnouncements.onAddRemove(this.renderUnreadAnnouncementCount);AllAnnouncements.ond("change:unread",this.renderUnreadAnnouncementCount);
this.updateAllAnnouncements=_.debounce(this.updateAllAnnouncements,6E4,!0);return this.setInterval(function(a){return function(){return a.renderUnreadAnnouncementCount()}}(this),3E4)};b.prototype.events={click:"openAnnouncement",mouseover:"updateAllAnnouncements"};b.prototype.render=function(){this.$el.html(B.fill("woof_header"));this.renderUnreadAnnouncementCount();return this};b.prototype.renderUnreadAnnouncementCount=function(){var a,b;b=Announcements.unreadCount();a=this.$(".header-btn");0<=Ka.call(_.pluck(Announcements.toJSON(),
"type"),"downtime")?(a.find(".js-phrase").text("We'll be down for maintenance shortly."),a.addClass("woof-alert")):a.find(".js-phrase").text("New stuff available!");Auth.isLoggedIn()&&0<b?a.removeClass("woof-crouch woof-hide").addClass("woof-up"):Auth.isLoggedIn()&&Storage.get("tacoShow")>(new Date).getTime()?a.removeClass("woof-up woof-hide").addClass("woof-crouch"):a.removeClass("woof-up woof-crouch woof-alert").addClass("woof-hide")};b.prototype.updateAllAnnouncements=function(){return AllAnnouncements.fetch()};
b.prototype.openAnnouncement=function(a){u.stop(a);this.updateAllAnnouncements();E.toggle({elem:this.$(".header-btn"),top:40,view:Auth.me().getView(Za)});z("Header","Announcement","Unread",Announcements.unreadCount())};return b})(aa);Za=function(h){function b(){this.openAnnouncementLink=r(this.openAnnouncementLink,this);this.clickGoogle=r(this.clickGoogle,this);this.clickFacebook=r(this.clickFacebook,this);this.clickTwitter=r(this.clickTwitter,this);this.clickBlog=r(this.clickBlog,this);this.render=
r(this.render,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.initialize=function(){return AllAnnouncements.onAddRemove(this.render)};b.prototype.getViewTitle=function(){return"Announcements"};b.prototype.events={"click .js-blog":"clickBlog","click .js-t":"clickTwitter","click .js-fb":"clickFacebook","click .js-g":"clickGoogle","click a":"openAnnouncementLink"};b.prototype.render=function(){var a,b,h,t,q,s;a={announcements:AllAnnouncements.toJSON()};h={announcement:B.announcement};
s=AllAnnouncements.getUnread();t=0;for(q=s.length;t<q;t++)b=s[t],b.markRead();Storage.set("tacoShow",(new Date).addMinutes(60).getTime());this.$el.html(B.fill("header_announcements",a,{},h));return this};b.prototype.clickBlog=function(){return z("Header","Announcements Menu","Trello Blog")};b.prototype.clickTwitter=function(){return z("Header","Announcements Menu","Twitter Link")};b.prototype.clickFacebook=function(){return z("Header","Announcements Menu","Facebook Link")};b.prototype.clickGoogle=
function(){return z("Header","Announcements Menu","Google+ Link")};b.prototype.openAnnouncementLink=function(a){if(!$(a.target).closest("a").is(".js-blog, .js-t, .js-fb, .js-g, .js-close-popover"))return z("Info","Announcements","Open Announcement Link")};return b}(J);aa=function(h){function b(){return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.className="header-banner header-banner-warning";return b}(J);(function(h){function b(){this.render=r(this.render,this);this.initialize=
r(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.initialize=function(){var a,b,h,t;h={gmail:/@(gmail|googlemail).com$/,yahoo:/@(yahoo|ymail).com$/,live:/@(hotmail|live).com$/,mac:/@(me|mac).com$/};a={gmail:"http://gmail.com",yahoo:"http://mail.yahoo.com",live:"http://live.com",mac:"https://www.icloud.com/"};for(b in h)if(t=h[b],t.test(this.model.get("email"))){this.emailInboxUrl=a[b];break}if(null==this.emailInboxUrl)return ApiAjax({url:"/checkYourEmail",
data:{email:this.model.get("email")},dataType:"json",success:function(a){return function(b){if(null==b.error)return a.emailInboxUrl=b.url,a.render()}}(this)})};b.prototype.render=function(){var a;a=this.model.toJSON();null!=this.emailInboxUrl&&(a.emailInboxUrl=this.emailInboxUrl,a.knownEmailProvider=!0);this.$el.html(B.fill("header_warning_banner",a));return this};return b})(aa);(function(h){function b(){this.render=r(this.render,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.initialize=
function(){return this.model.bind("change:loginTypes",function(a){return function(){a.$el.toggle(!Auth.canLogIn());return $(window).triggerHandler("resize")}}(this))};b.prototype.events={"click .js-change-password":"changePassword"};b.prototype.render=function(){this.$el.html(B.fill("header_warning_password",this.model.toJSON()));return this};b.prototype.changePassword=function(a){u.stop(a);z("Member View","Account Page","Open Change Password Menu");return E.toggle({elem:this.$(".js-change-password"),
top:24,view:this.model.getView(ChangeSetPasswordPopoverView)})};return b})(aa);(function(h){function b(){this.render=r(this.render,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.initialize=function(){return this.model.ond("change:prefs",this.render)};b.prototype.render=function(){var a,b,h;h=this.model.toJSON();a=this.model.get("prefs");b="public"===a.voting;a="public"===a.comments;h.interactions=b&&a?"vote or comment":b?"vote":a?"comment":void 0;b=encodeURIComponent(Controller.getBoardUrl(this.modelCache,
this.model));h.signupUrl="/signup?returnUrl="+b+"&source=public-board-banner";h.tourUrl="/tour?board="+b+"&source=public-board-banner";this.$el.html(B.fill("header_public_board",h));return this};return b})(aa);(function(h){function b(){this.showLoginOrSignupDialog=r(this.showLoginOrSignupDialog,this);this.switchAccounts=r(this.switchAccounts,this);this.createNewAccount=r(this.createNewAccount,this);this.ignoreInvite=r(this.ignoreInvite,this);this.hideHeader=r(this.hideHeader,this);this.joinModel=
r(this.joinModel,this);this.render=r(this.render,this);this.getGhost=r(this.getGhost,this);this.getMemberAdder=r(this.getMemberAdder,this);this.getInviteToken=r(this.getInviteToken,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.events={"click .js-join-model":"joinModel","click .js-ignore-invite":"ignoreInvite","click .js-switch-accounts":"switchAccounts","click .js-create-new-account":"createNewAccount"};b.prototype.className="header-banner header-banner-warning header-banner-invited";
b.prototype.initialize=function(){this.boardOrOrg=this.options.idBoard?this.Board.get(this.options.idBoard):this.Organization.get(this.options.idOrganization);ModelLoader["for"](this.modelCache).loadMemberEmail(this.getGhost().id,function(a){return function(b,h){if(null!=(null!=h?h.email:void 0))return ApiAjax({url:"/1/search/members/",type:"get",data:{query:h.email},dataType:"json",success:function(b){if(!_.isEmpty(b)&&"normal"===b[0].memberType)return a.hasAccount=!0}})}}(this));return this.render()};
b.prototype.getInviteToken=function(){return u.inviteTokenFor(this.boardOrOrg.id)};b.prototype.getMemberAdder=function(){var a;a=this.getInviteToken().split("-")[1];return this.Member.get(a)};b.prototype.getGhost=function(){var a;a=this.getInviteToken().split("-")[0];return this.Member.get(a)};b.prototype.render=function(){var a;a=this.model.toJSON();a.isLoggedIn=Auth.isLoggedIn();a[this.boardOrOrg.typeName.toLowerCase()]=this.boardOrOrg.toJSON();a.modelType=this.boardOrOrg.typeName;null!=this.getMemberAdder()&&
(a.memberAdder=this.getMemberAdder().toJSON());$(this.el).html(B.fill("header_invite",a));return this};b.prototype.joinModel=function(a){var b;u.stop(a);return Auth.isLoggedIn()?(b=_.extend(this.model.toJSON(),{ghostEmail:this.getGhost().get("email")}),$a.toggle({elem:$(a.target),top:35,model:this.model,title:"Add Email Address?",data:b,confirmText:"Add",fxConfirm:function(a){return function(){var b,f,h;f=a.options.idBoard?"board":"organization";b=null!=(h=a.options.idBoard)?h:a.options.idOrganization;
return ApiAjax({url:"/associate-json/"+f+"/"+b+"/"+u.inviteTokenFor(b),dataType:"json",type:"post",success:function(b){if(null==b.error)return a.deleteTokenCookie(),a.hideHeader(),Alerts.show("You have joined this board","info",null,5E3)}})}}(this)})):this.showLoginOrSignupDialog()};b.prototype.deleteTokenCookie=function(){var a;return $.cookie("invite-token-"+(null!=(a=this.options.idBoard)?a:this.options.idOrganization),null,{path:"/"})};b.prototype.hideHeader=function(){$(this.el).hide();return u.calcBoardLayout()};
b.prototype.ignoreInvite=function(a){u.stop(a);if(null!=this.getGhost())return this.boardOrOrg.memberList.remove(this.getGhost(),{invite:!0,success:function(a){return function(){a.hideHeader();a.deleteTokenCookie();return Alerts.show("You did not join this board","error",null,5E3)}}(this)})};b.prototype.createNewAccount=function(a){u.stop(a);z("Header","Login/Signup Menu","Open Login/Signup Menu: Create New");return this.showLoginOrSignupDialog(!0)};b.prototype.switchAccounts=function(a){u.stop(a);
z("Header","Login/Signup Menu","Open Login/Signup Menu");return this.showLoginOrSignupDialog()};b.prototype.showLoginOrSignupDialog=function(a){a=a?!1:this.hasAccount;return Dialog.show({view:new Ia({model:this.Member.get(Auth.myId()),modelCache:this.modelCache,idGhost:this.getGhost().id,idModel:this.boardOrOrg.id,hasAccount:a,modelType:this.options.idBoard?"board":"organization"})})};return b})(aa);$a=function(h){function b(){b.__super__.constructor.apply(this,arguments);this.template="confirm_merge"}
F(b,h);b.prototype.render=function(){b.__super__.render.apply(this,arguments);this.appendSubview(this.subview(SelectMemberView,this.model),this.$(".js-member"));return this};return b}(Fa);Ga=function(h){function b(){this.newOrg=r(this.newOrg,this);this.newBoard=r(this.newBoard,this);this.newCard=r(this.newCard,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.getViewTitle=function(){return"Add"};b.prototype.events={"click .js-new-card":"newCard","click .js-new-board":"newBoard",
"click .js-new-org":"newOrg"};b.prototype.render=function(){this.$el.html(B.fill("header_add_menu"));return this};b.prototype.newCard=function(){z("Header","Add Menu","New Card");return E.pushView({view:new CreateCardView({model:this.model,modelCache:this.modelCache})})};b.prototype.newBoard=function(){z("Header","Add Menu","New Board");return E.pushView({view:new CreateBoardView({model:this.model,modelCache:this.modelCache})})};b.prototype.newOrg=function(){z("Header","Add Menu","New Org");return E.pushView({view:new CreateOrgView({model:this.model,
modelCache:this.modelCache})})};return b}(J);Ia=function(h){function b(){this.clickTab=r(this.clickTab,this);this.setFocusTo=r(this.setFocusTo,this);this.clickFormPart=r(this.clickFormPart,this);this.mouseenterFormPart=r(this.mouseenterFormPart,this);this.loginGoogle=r(this.loginGoogle,this);this.loginPassword=r(this.loginPassword,this);this.createAccount=r(this.createAccount,this);this.addMouseenterFormPartEvent=r(this.addMouseenterFormPartEvent,this);this.setDefaultActive=r(this.setDefaultActive,
this);this.render=r(this.render,this);this.remove=r(this.remove,this);return b.__super__.constructor.apply(this,arguments)}F(b,h);b.prototype.getViewTitle=function(){return"Log In or Sign Up"};b.prototype.className="login-signup-popover";b.prototype.remove=function(){this.$el.remove();return this};b.prototype.events={"mouseenter .js-default-active":"addMouseenterFormPartEvent","click .js-form-part":"clickFormPart","click .js-tabs a":"clickTab","click .js-google-login":"loginGoogle","click .js-password-login":"loginPassword",
"click .js-create-account":"createAccount"};b.prototype.render=function(){var a;a=this.Member.get(this.options.idGhost).toJSON();a.hasAccount=this.options.hasAccount;$(this.el).html(B.fill("hybrid_signup_login",a));_.defer(this.setDefaultActive);this.$(".js-insert-tooltip").html(Auth.me().getView(SignupTooltipView).render().el);return this};b.prototype.setDefaultActive=function(){this.setFocusTo(this.$(".js-default-active"));return this.$(".js-active-box").removeClass("start")};b.prototype.addMouseenterFormPartEvent=
function(){this.$(".js-default-active").unbind("mouseenter");return this.$(".js-form-part").bind("mouseenter",this.mouseenterFormPart)};b.prototype.disableCreateAccount=function(){this.createDisabled=!0;return this.$(".js-create-account").attr("disabled","disabled")};b.prototype.enableCreateAccount=function(){this.createDisabled=!1;return this.$(".js-create-account").removeAttr("disabled")};b.prototype.createAccount=function(a){u.stop(a);if(!this.createDisabled)return z("Invite Header","Create Account"),
TRMixpanel.justSignedUp(),this.$(".js-bad-password").hide(),this.$(".js-bad-full-name").hide(),this.$(".js-bad-email").hide(),this.$(".js-used-email").hide(),a=$(a.target).closest("form"),this.disableCreateAccount(),ApiAjax({type:"POST",dataType:"json",url:"/signup-invitation",data:{email:a.find('input[name="email"]').val(),idModel:this.options.idModel,type:this.options.modelType,fullName:a.find('input[name="fullName"]').val(),password:a.find('input[name="password"]').val(),inviteToken:u.inviteTokenFor(this.options.idModel)},
success:function(a){return function(b){if(b.success||/invalid invitation/.test(b.error))return location.reload();if(/password/.test(b.error))return a.$(".js-bad-password").show(),a.enableCreateAccount();if(/fullName/.test(b.error))return a.$(".js-bad-full-name").show(),a.enableCreateAccount();if(/email/.test(b.error))return a.enableCreateAccount(),/in use/.test(b.error)?a.$(".js-used-email").show():a.$(".js-bad-email").show()}}(this)})};b.prototype.loginPassword=function(a){u.stop(a);z("Invite Header",
"Log In","Password");TRMixpanel.justLoggedIn();a=$(a.target).closest("form");a.find('input[name="returnUrl"]').val(document.location.pathname);return a.submit()};b.prototype.loginGoogle=function(a){u.stop(a);z("Invite Header","Log In","Google");TRMixpanel.justLoggedIn();a=$(a.target).closest("form");a.find('input[name="login"]').val(!0);a.find('input[name="mode"]').val("popup");a.find('input[name="immediate"]').val(!1);a.find('input[name="returnUrl"]').val(document.location.pathname);return a.submit()};
b.prototype.mouseenterFormPart=function(a){if(!O.isTouch()&&0===this.$("*:input:focus").length&&0===this.$(".js-tooltip-content.active").length)return this.setFocusTo($(a.target).closest(".js-form-part"))};b.prototype.clickFormPart=function(a){if(!O.isTouch())return this.setFocusTo($(a.target).closest(".js-form-part"))};b.prototype.setFocusTo=function(a){var b,h,r,q,s;a.siblings(".js-form-part").removeClass("active");a.addClass("active");this.$(".js-tab").removeClass("active");this.$(".js-tab[data-content="+
this.$(".js-form-part.active").attr("data-id")+"]").addClass("active");q=["js-signup-form-pos","js-login-form-pos"];s=[];h=0;for(r=q.length;h<r;h++)b=q[h],s.push(this.$(".js-active-box").toggleClass(b,a.hasClass(b)));return s};b.prototype.clickTab=function(a){a=this.$("."+$(a.target).attr("data-content"));return this.setFocusTo(a)};return b}(J);var E,r=function(h,b){return function(){return h.apply(b,arguments)}};E=new (function(){function h(){this.clearDisplayTypes=r(this.clearDisplayTypes,this);
this.hide=r(this.hide,this);this.toggle=r(this.toggle,this);this.popView=r(this.popView,this);this.pushView=r(this.pushView,this);this.checkPosition=r(this.checkPosition,this);this.show=r(this.show,this);this.load=r(this.load,this);this.calcPos=r(this.calcPos,this);this.viewStack=[];this.el_width=1;this.el_top=this.el_left="";this.view=null;this.args={};this.isVisible=!1;$(function(b){return function(){t=$(".pop-over");f=$(".pop-over .header");a=$(".pop-over .content");m=t.find(".js-back-view");$(m).click(function(a){return b.popView()});
return $(t).find(".js-close-popover").click(function(a){u.stop(a);return b.hide()})}}(this))}var b,a,f,m,t;b=m=a=f=t=null;h.prototype.calcPos=function(a){var b,f,h,m,r,u,z,E,B,F,I;if(this.isVisible||!(null!=a&&a.notNew)){f=$(window).width();b=$(window).height();z=t.outerWidth();a&&!a.notNew&&(this.args=a);a=null!=(null!=(B=this.args)?B.clientx:void 0)&&null!=(null!=(F=this.args)?F.clienty:void 0);$(null!=(I=this.args)?I.elem:void 0).is(":visible")?(this.args.elem.el&&(this.elem=this.args.elem.el),
this.el_width=$(this.args.elem).outerWidth(),this.el_left=$(this.args.elem).offset().left,this.el_top=$(this.args.elem).offset().top+(_.isNumber(this.args.top)?this.args.top:28)):a&&(this.el_left=this.args.clientx,this.el_top=this.args.clienty);b=ga.fLarge||ga.fExtraLarge?b-68:"";if(!(null!=(h=this.args)&&h.clientx)||!(null!=(m=this.args)&&m.clienty))if(!_.include(["block","inline-block","inline"],$(null!=(E=this.args)?E.elem:void 0).css("display")))return;u=0<this.el_top?this.el_top:5;m=t.height()+
16;h=u+m;if(ga.fLarge||ga.fExtraLarge)E=$(window).height()+$(window).scrollTop(),h>E&&(u=E-m-8),m>E-44&&(u=44);r=0<this.el_left?this.el_left:5;r+z+16>f&&(r=f-(z+5));this.isVisible||t.css({left:-1E4,top:-1E4,maxHeight:b}).show();_.defer(function(a){return function(){t.find(".content").css({height:1E5});t.scrollTop(1);t.scrollTop(0);t.find(".content").css({height:""});return t.css({left:r,top:u})}}(this))}};h.prototype.load=function(b,h,m){var r;_.isFunction(b)?(null==h&&(h={}),null==h.modelCache&&
(h.modelCache=Controller.getCurrentModelCache()),this.view=new b(h)):(this.view=b,m=h);this.clearDisplayTypes();t.addClass(this.view.displayType);"function"===typeof(r=this.view).getData&&r.getData();f.find(".header-title").text(this.view.getViewTitle());m?a.empty().append(this.view.el):a.empty().append(this.view.render().el);this.view.delegateEvents();m||"undefined"!==typeof UserInput&&null!==UserInput&&UserInput.addHandler(this.view,{scope:"popover",modal:!0});return this.view};h.prototype.show=
function(a){a.keepEdits||ca.cancelEdits(a.elActive);a.preloaded||(this.hide(),a.view=this.load(a.view,a.options));this.viewStack.push(a.view);this.calcPos(a);_.defer(function(a){return function(){if(0<t.find(".js-autofocus").length&&(!O.isTouch()||!t.find(".js-autofocus:first").hasClass("js-no-touch-autofocus")))return t.find(".js-autofocus:first").focus().select()}}(this));this.isVisible=!0;"function"===typeof a.shown&&a.shown(t);b=a.hidden;null!=a&&a.autoPosition?this.positionInterval=setInterval(this.checkPosition,
250):clearInterval(this.checkPosition)};h.prototype.checkPosition=function(){var a,b,f,h;if(this.isVisible){if(b=t.offset().top,h=$(window).scrollTop(),b!==h)if(f=$(window).height(),a=t.outerHeight(),b<h&&a<=f)t.css({top:h});else if(b+a>h+f&&(a=h+Math.max(0,f-a),a!==b))return t.css({top:a})}else this.clearInterval(this.positionInterval)};h.prototype.pushView=function(a){var b;b=_.last(this.viewStack);null!=b&&"function"===typeof b.willBePushedDown&&b.willBePushedDown();a.view=this.load(a.view,a.options);
this.viewStack.push(a.view);m.show();if(0<t.find(".js-autofocus").length){if(O.isTouch()&&t.find(".js-autofocus:first").hasClass("js-no-touch-autofocus"))return;_.delay(function(a){return function(){return t.find(".js-autofocus:first").focus().select()}}(this),10)}return this.calcPos()};h.prototype.popView=function(){var a;a=_.last(this.viewStack);null!=a&&("function"===typeof a.willBePopped&&a.willBePopped(),UserInput.removeHandler(a),a.remove());this.viewStack.pop();if(a=_.last(this.viewStack)){this.load(a,
!0);1===this.viewStack.length&&m.hide();if(0<t.find(".js-autofocus").length){if(O.isTouch()&&t.find(".js-autofocus:first").hasClass("js-no-touch-autofocus"))return;_.delay(function(a){return function(){return t.find(".js-autofocus:first").focus().select()}}(this),10)}return this.calcPos()}E.hide()};h.prototype.toggle=function(a){var b,f;return(this.args&&(null!=(b=this.args.elem)?b[0]:void 0))===(null!=(f=a.elem)?f[0]:void 0)?this.hide():this.show(a)};h.prototype.hide=function(){var a,f,h,r;clearInterval(this.positionInterval);
t.hide();r=this.viewStack.reverse();f=0;for(h=r.length;f<h;f++)a=r[f],"function"===typeof a.willBePopped&&a.willBePopped(),"undefined"!==typeof UserInput&&null!==UserInput&&UserInput.removeHandler(a),a.remove();t.find(".content").empty();m.hide();this.clearDisplayTypes();this.viewStack=[];this.args=this.view=null;this.isVisible=!1;$(".js-remove-on-po-hide").remove();"function"===typeof b&&b(t);return b=null};h.prototype.clearDisplayTypes=function(){return t.removeClass("miniprofile avdetail woof")};
return h}());var z;z=function(h,b,a,f){return"function"===typeof window.ga?window.ga("send","event",h,b,a,f):void 0};var za,ra,ua,La,ga,r=function(h,b){return function(){return h.apply(b,arguments)}};La={width:0,className:"small-window"};ua={width:750,className:"medium-window"};ra={width:900,className:"large-window"};za={width:1280,className:"extra-large-window"};ga=new (function(){function h(){this.ensureRun=r(this.ensureRun,this);this.calc=r(this.calc,this)}h.prototype.calc=function(){var b,a,f,
h,r,q;"undefined"!==typeof Profiler&&null!==Profiler&&Profiler.time("WindowSize.calc");this.ranCalc=!0;a=this.className;b=$(window).width();$("#surface").height("initial");this.fExtraLarge=this.fLarge=this.fMedium=this.fSmall=!1;b>za.width?(this.className=za.className,this.fExtraLarge=!0):b>ra.width?(this.className=ra.className,this.fLarge=!0):b>ua.width?(this.className=ua.className,this.fMedium=!0):($("#surface").height($(window).height()),this.className=La.className,this.fSmall=!0);b="unknown-window";
h=[za,ra,ua,La];r=0;for(q=h.length;r<q;r++)f=h[r],b=b+" "+f.className;a!==this.className&&($("body").removeClass(b).addClass(this.className),$(this).triggerHandler("windowClassChange",{newClass:this.className,oldClass:a}));return"undefined"!==typeof Profiler&&null!==Profiler?Profiler.timeEnd("WindowSize.calc"):void 0};h.prototype.ensureRun=function(){if(!this.ranCalc)return this.calc()};return h}());$(function(){var h;ga.calc();h=null;return $(window).resize(function(){clearTimeout(h);h=setTimeout(ga.calc,
200)})});var ca,r=function(h,b){return function(){return h.apply(b,arguments)}};ca=new (function(){function h(){this.isEditing=r(this.isEditing,this);this.cancelEdits=r(this.cancelEdits,this)}h.prototype.cancelEdits=function(b){$(".edit-controls:not(.keep)").remove();$(".editing").removeClass("editing");$(".checklist-new-item").removeClass("focus");$("input").not(b||"none").blur();$("textarea").not(b||"none").blur();b=$(".editable");if(0<b.length)return b.each(function(a){var b,h,r,q;b=$(".editable")[a];
q=$(b).find(".edits-warning:first");a=$(b).find(".current:first");h=$(b).find(".field:first");b=h.data("draftKey");if((null!=(r=a.data("unmarkeddown"))?r!==h.val():h.val()!==a.text())&&""!==h.val()&&null!=b)return Storage.set(b,h.val()),q.show()})};h.prototype.isEditing=function(){return 0<$(".editing").length+$(".checklist-new-item.focus").length};return h}());var Ma;Ma=function(h){return function(b){var a,f;for(a in b)f=b[a],_.isFunction(f)?b[a]=new Ya.Template(f):b[a]=Ma(f);return b}}(this);B=
Ma(B);B.fill=function(h,b,a,f){var m;null==b&&(b={});null==a&&(a={});null==f&&(f={});h=B[h];b=_.extend({__ed:null!=a?a.editable:void 0,__own:null!=a?a.owned:void 0,__loggedIn:"undefined"!==typeof Auth&&null!==Auth?Auth.isLoggedIn():void 0,__siteDomain:siteDomain,__avatarDomain:avatarDomain,__logoDomain:logoDomain,__gold:"undefined"!==typeof Auth&&null!==Auth?null!=(m=Auth.me())?m.isGold():void 0:void 0},b,"undefined"!==typeof ABTest&&null!==ABTest?ABTest.tests(a.idABTest):void 0);return h.render(b,
f)};B.fillFromModel=function(h,b,a,f){var m;null==a&&(a={});null==f&&(f={});m={editable:"function"===typeof b.editable?b.editable():void 0,owned:"function"===typeof b.owned?b.owned():void 0};a=_.extend(b.toJSON(),a);return B.fill(h,a,m,f)};B.fillMenu=function(h,b,a){return B.fill("menu-base",{content:B.fill(h,b,a)})};window.TRMixpanel=new (function(){function h(){this.signUpCookieName="just_signed_up";this.loginCookieName="just_logged_in";this.referralTypeCookieName="referral_type";this.referralSourceCookieName=
"referral_source";this.publicBoardPathCookieName="public_board_path"}h.prototype.setCookie=function(b,a){return $.cookie(b,a,{expires:1,path:"/"})};h.prototype.setReferralCookie=function(){var b,a,f,h,r,q,s;if(!$.cookie(this.referralTypeCookieName))return q=function(){return 0<=window.location.pathname.indexOf("/b/")},s=function(){return 0<=window.location.pathname.indexOf("/recommend")},b=function(){return 0<$("#board").length},h=function(){var a,b;return null!=(a=document.referrer)?null!=(b=a.match(/:\/\/(.[^/]+)/))?
b[1]:void 0:void 0},a=function(){return 0<("undefined"!==typeof u&&null!==u?"function"===typeof u.invitationTokens?u.invitationTokens().length:void 0:void 0)},f=function(){return window.location.pathname},r=function(r){return function(){var t,u;a()?u=q()?"board invitation":"org invitation":(t=h(),s()?u="recommend":b()?(u="public board",TRMixpanel.setCookie(r.publicBoardPathCookieName,f())):u="direct");TRMixpanel.setCookie(r.referralTypeCookieName,u);t&&TRMixpanel.setCookie(r.referralSourceCookieName,
t)}}(this),setTimeout(r,3E3)};h.prototype.justSignedUp=function(){return TRMixpanel.setCookie(this.signUpCookieName,!0)};h.prototype.justLoggedIn=function(){return TRMixpanel.setCookie(this.loginCookieName,!0)};h.prototype.trackEmailCampaign=function(b,a,f){return mixpanel.track("email campaign",{"email name":b,"email action":a,"email template slug":f})};h.prototype.trackLoginOrSignUp=function(){if(Auth.isLoggedIn()){if($.cookie(this.signUpCookieName))return TRMixpanel.trackSignup(),$.cookie(this.signUpCookieName,
null);if($.cookie(this.loginCookieName))return TRMixpanel.trackLogin(),$.cookie(this.loginCookieName,null)}};h.prototype.trackSignup=function(){var b;mixpanel.alias(Auth.myId());b={};$.cookie(this.referralTypeCookieName)&&(b["signup type"]=$.cookie(this.referralTypeCookieName),$.cookie(this.referralTypeCookieName,null));$.cookie(this.referralSourceCookieName)&&(b["signup referrer"]=$.cookie(this.referralSourceCookieName),$.cookie(this.referralSourceCookieName,null));$.cookie(this.publicBoardPathCookieName)&&
(b["public board path"]=$.cookie(this.publicBoardPathCookieName),$.cookie(this.publicBoardPathCookieName,null));return mixpanel.track("signup",b)};h.prototype.trackLogin=function(){return mixpanel.identify(Auth.myId())};h.prototype.trackInvitation=function(b){null==b&&(b="board");mixpanel.track("invitation sent",{invitation_type:b});return mixpanel.people.increment("invitations sent")};h.prototype.trackPageView=function(b,a){return mixpanel.track("page viewed",{"page name":b,url:a})};h.prototype.trackPurchase=
function(b,a){return mixpanel.track("purchase",{"product name":b,"product id":a})};h.prototype.trackVideoWatched=function(b,a,f){return mixpanel.track("video watched",{"video id":b,"video name":a,"video embed location":f})};return h}());var u;u={stopPropagation:function(h){return h.stopPropagation()},preventDefault:function(h){return h.preventDefault()},stop:function(h){u.stopPropagation(h);return u.preventDefault(h)}};var kb=[{username:"brycecolquitt",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/04e835470f32dc246875cb81d3294bbf/brycecolquitt.jpg",
tweet:'How did people get work done before <a href="https://twitter.com/#!/trello" target="_blank">@Trello</a>?',timestamp:"29 Jun",url:"https://twitter.com/brycecolquitt/status/218763918934409217"},{username:"alfonsocatron",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/68cae40c6c8f244d85163197d7886c9b/alfonsocatron.jpg",tweet:'by far, trello.com is the best organization tool I\'ve ever seen, it is amazing how powerful and simple it is <a href="https://twitter.com/#!/trello" target="_blank">@trello</a>',
timestamp:"29 Jun",url:"https://twitter.com/alfonsocatron/status/218434126326403072"},{username:"angelabdotme",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/f1a5a13f00a33fc7fe84d69095070894/angelabdotme.jpg",tweet:'<a href="https://twitter.com/#!/trello" target="_blank">@Trello</a>, Good Lord, you rock! Just had to get that off my chest :)',timestamp:"28 Jun",url:"https://twitter.com/angelabdotme/status/218431858147475457"},{username:"krittabug",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/a478f6b1c3f2a7e12ecadf6163178504/krittabug.jpg",
tweet:'We\'ve been playing around on <a href="https://twitter.com/#!/trello" target="_blank">@Trello</a> at work. Brilliant, I say! Brilliant.',timestamp:"26 Jun",url:"https://twitter.com/krittabug/status/217659526135029761"},{username:"section71",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/b1f2bf42b27897400e2b4f58fd1daf28/section71.png",tweet:'A tool I use every day: <a href="https://twitter.com/#!/trello" target="_blank">@trello</a>. Awesome collaborative project management tool using boards and cards. Check it out!',
timestamp:"24 Jun",url:"https://twitter.com/section71/status/216851014370865154"},{username:"daehee",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/ad2bf733b15e83345ab1006a3eecd281/daehee.jpg",tweet:'I\'m sold. <a href="https://twitter.com/#!/trello" target="_blank">@Trello</a> is the most intuitive to-do list app I\'ve used.',timestamp:"24 Jun",url:"https://twitter.com/daehee/status/216813950745067520"},{username:"nabeelqu",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/18695da8696bb1e6a1d3662ad4dcc11e/nabeelqu.jpg",
tweet:'just transferred my entire life onto <a href="https://twitter.com/#!/trello" target="_blank">@trello</a>. Really useful tool. Thanks!',timestamp:"22 Jun",url:"https://twitter.com/nabeelqu/status/216261700637298688"},{username:"mdw233psu",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/268449c5750a33b569fb5efee220f079/mdw233psu.png",tweet:'I am at the point where I am using <a href="https://twitter.com/#!/trello" target="_blank">@trello</a> for everything ... Software project management, my GTD lists, my wedding ....',
timestamp:"22 Jun",url:"https://twitter.com/mdw233psu/status/216142253339586560"},{username:"mitchellhislop",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/63d666ce159b3035aceaffa9e118137f/mitchellhislop.jpg",tweet:'I love how <a href="https://twitter.com/#!/trello" target="_blank">@trello</a> balances both free-form stuff as well as structured stuff. Seriously powerful',timestamp:"19 Jun",url:"https://twitter.com/mitchellhislop/status/215196390400344064"},{username:"tomtheguvnor",
avatar:"/images/landing/twitter-avatars/omtheguvnor.jpg",tweet:'If you\'re not using <a href="https://twitter.com/#!/trello" target="_blank">@trello</a> to manage your project, whatever your project is, you\'re doing it wrong. Fact.',timestamp:"31 May",url:"https://twitter.com/tomtheguvnor/status/208365127144194048"}],lb=function(){if("/landing"==location.pathname||"#landing"==location.hash||location.pathname.match(/\/recommend$/)||location.hash.match(/\/recommend$/)||"/"==location.pathname&&""==
location.hash&&(!window.Auth||!Auth.isLoggedIn())){$.getScript("https://use.typekit.com/wtv2ioe.js",function(){try{Typekit.load()}catch(a){}});$.easing.fastSlowFast=function(a){return(Math.tan(2.214*a-1.107)+2)/4};var h=$("#landingFeaturedUsers li"),b=$("#landingFeaturedUsers"),a=$("#landingSlidesWrapper"),f,m,r=h.length,q=a.height(),s=0,u,B=1,y=!1,F=!1;$(window).resize(function(){window.setTimeout(J,500)});var J=function(){s=a.width();$("#landingFeaturedUsers li").innerWidth(s);b.width(s*(r+2));
h.css({display:"block"});b.css({"margin-left":-s*B})},O=function(a){$("#slideshowNav .current").removeClass("current");$('#slideshowNav li[data-id="'+a+'"] a').addClass("current")},L=function(a){var n=h.filter('[data-id="'+B+'"]');if(a>r)T(n,f),aa(a,function(){h.first().css({opacity:1});f.css({opacity:0});b.css({"margin-left":-s});B=1;F=!1}),O(1);else if(1>a)T(n,m),aa(a,function(){h.last().css({opacity:1});m.css({opacity:0});b.css({"margin-left":-s*r});B=r;F=!1}),O(r);else{var q=h.filter('[data-id="'+
a+'"]');T(n,q);aa(a,function(){F=!1});B=a;O(B)}},T=function(a,b){a.animate({opacity:0},{duration:300,easing:"linear",complete:function(){b.animate({opacity:1},{easing:"linear"})}})},aa=function(a,f){F=!0;b.animate({"margin-left":-s*a},{duration:1E3,easing:"swing",complete:f})},I=function(){window.clearTimeout(u);y&&n($('.landing-featured-user[data-id="'+B+'"]'))};$(".slideshow-arrow").click(function(a){a.preventDefault();if(F)return!1;I();a="slideshowNext"===$(this).attr("id")?B+1:B-1;L(a);u=window.setTimeout(ca,
2E4)});var ga=function(a){a.preventDefault();if(F)return!1;I();a=parseInt($(this).parent().attr("data-id"));L(a);u=window.setTimeout(ca,2E4)},ca=function(){L(B+1);u=window.setTimeout(ca,1E4)},ka=function(b){y=!0;window.clearTimeout(u);var f=0;b.children().each(function(){f+=$(this).outerHeight()});b.children(".landing-board-fade").animate({bottom:"-800px",opacity:0});a.animate({height:f});$(".show-board-button").hide();$(".hide-board-button").show()},n=function(b){y=!1;b.children(".landing-board-fade").animate({bottom:"0px",
opacity:1});a.animate({height:q});$(".hide-board-button").hide();$(".show-board-button").show()};$(".show-board-button").click(function(a){a.preventDefault();ka($('.landing-featured-user[data-id="'+B+'"]'))});$(".hide-board-button").click(function(a){a.preventDefault();n($('.landing-featured-user[data-id="'+B+'"]'));u=window.setTimeout(ca,1E3)});J();(function(){f=h.first().clone().appendTo(b);m=h.last().clone().prependTo(b);for(var a=0;a<r;a++)$(h[a]).attr("data-id",a+1),$("#slideshowNav").append('<li data-id="'+
(a+1)+'"><a href="">&bull;</a></li>');$("#slideshowNav a").click(ga);$("#landingFeaturedUsers li").filter('[data-id!="'+B+'"]').css({opacity:0})})();(function(){$("#surface").click(function(a){E.isVisible&&E.hide()})})();O(B);u=window.setTimeout(ca,1E4);(function(){var a=kb[Math.floor(10*Math.random())];$("#landingTwitterQuotes blockquote").html(a.tweet);$("#landingTwitterQuotes img").attr("src",a.avatar);$("#landingTwitterQuotes .quote-attribution").html(a.username);$("#landingTwitterQuotes .time").html(a.timestamp);
$("#landingTwitterQuotes .tweet-url").attr("href",a.url)})();$(document).on("click",".js-first-sign-up-landing-boards",function(a){z("Landing","Clicked on first signup button","Boards")});$(document).on("click",".js-first-sign-up-landing-video",function(a){z("Landing","Clicked on first signup button","Video")});$(document).on("click","#landingSignUp .landing-signup-button",function(a){z("Landing","Clicked on second signup button")});$(document).on("click",".slideshow-arrow",function(a){z("Landing",
"Clicked on slideshow arrows")});$(document).on("click","#slideshowNav a",function(a){z("Landing","Clicked on slideshow dots")});$(document).on("click",".show-board-button",function(a){z("Landing","Clicked on featured board")});$(document).on("click",".js-landing-learn-more",function(a){z("Landing","Learn more")});$(document).on("click",".js-landing-app-android",function(a){$(a.target).hasClass("js-text")?z("Landing","Android App","Text"):z("Landing","Android App","Image")});$(document).on("click",
".js-landing-app-iphone",function(a){$(a.target).hasClass("js-text")?z("Landing","iPhone App","Text"):z("Landing","iPhone App","Image")});$(document).on("click",".js-landing-app-ipad",function(a){$(a.target).hasClass("js-text")?z("Landing","iPad App","Text"):z("Landing","iPad App","Image")});$(document).on("click",".js-landing-app-win8",function(a){$(a.target).hasClass("js-text")?z("Landing","Windows 8 App","Text"):z("Landing","Windows 8 App","Image")});$(document).on("click",".js-landing-app-web",
function(a){$(a.target).hasClass("js-text")?z("Landing","Web App","Text"):z("Landing","Web App","Image")})}},Na;Na=new Ja;$(".js-toggle-login-popover").click(function(h){u.stop(h);$(function(){try{return z("Header","Login Menu","Open Login Menu"),E.show({elem:$(h.target),top:39,view:Na})}catch(b){return h=b,window.location.href="/login"}});return!1});$(document).ready(function(){lb();cb();TRMixpanel.setReferralCookie()});var cb;cb=function(){var h;h=$.cookie("referrer");if(null!=h)return $.get("/1/members/"+
h,{fields:"username,fullName,initials,avatarHash"},function(b){var a;a=$("<div>").addClass("header-banner header-banner-reco");a.html('<span class="js-avatar"></span><span class="js-fullname"></span> recommends Trello!');a.find(".js-fullname").text(b.fullName);b.avatarHash&&(b=$("<img>").attr("src",""+avatarDomain+"/"+b.avatarHash+"/50.png"),a.find(".js-avatar").append(b));return $(function(){return $("#header").after(a)})})}})();
